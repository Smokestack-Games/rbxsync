[{"className":"Frame","name":"TickBar","properties":{"Active":{"type":"bool","value":false},"AnchorPoint":{"type":"Vector2","value":{"x":0,"y":0}},"AutoLocalize":{"type":"bool","value":true},"AutomaticSize":{"type":"Enum","value":{"enumType":"AutomaticSize","value":"None"}},"BackgroundColor3":{"type":"Color3","value":{"b":0.7529412508010864,"g":0.7529412508010864,"r":0.7529412508010864}},"BackgroundTransparency":{"type":"float","value":0},"BorderColor3":{"type":"Color3","value":{"b":0.207843154668808,"g":0.16470588743686676,"r":0.10588236153125764}},"BorderMode":{"type":"Enum","value":{"enumType":"BorderMode","value":"Outline"}},"BorderSizePixel":{"type":"int","value":0},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"ClipsDescendants":{"type":"bool","value":false},"Draggable":{"type":"bool","value":false},"GuiState":{"type":"Enum","value":{"enumType":"GuiState","value":"Idle"}},"Interactable":{"type":"bool","value":true},"LayoutOrder":{"type":"int","value":0},"NextSelectionDown":{"type":"nil"},"NextSelectionLeft":{"type":"nil"},"NextSelectionRight":{"type":"nil"},"NextSelectionUp":{"type":"nil"},"Position":{"type":"UDim2","value":{"x":{"offset":0,"scale":0},"y":{"offset":0,"scale":0}}},"RootLocalizationTable":{"type":"nil"},"Rotation":{"type":"float","value":0},"Selectable":{"type":"bool","value":false},"SelectionBehaviorDown":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorLeft":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorRight":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorUp":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionGroup":{"type":"bool","value":false},"SelectionImageObject":{"type":"nil"},"SelectionOrder":{"type":"int","value":0},"Size":{"type":"UDim2","value":{"x":{"offset":0,"scale":0.10000000149011612},"y":{"offset":0,"scale":1}}},"SizeConstraint":{"type":"Enum","value":{"enumType":"SizeConstraint","value":"RelativeXY"}},"Style":{"type":"Enum","value":{"enumType":"FrameStyle","value":"Custom"}},"Visible":{"type":"bool","value":true},"ZIndex":{"type":"int","value":3}},"referenceId":"0005e01b-2c31-992a-1a49-000004b5d35c"},{"className":"ScreenGui","name":"ExitGame","properties":{"AutoLocalize":{"type":"bool","value":true},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"ClipToDeviceSafeArea":{"type":"bool","value":false},"DisplayOrder":{"type":"int","value":0},"Enabled":{"type":"bool","value":true},"ResetOnSpawn":{"type":"bool","value":true},"RootLocalizationTable":{"type":"nil"},"SafeAreaCompatibility":{"type":"Enum","value":{"enumType":"SafeAreaCompatibility","value":"FullscreenExtension"}},"ScreenInsets":{"type":"Enum","value":{"enumType":"ScreenInsets","value":"DeviceSafeInsets"}},"SelectionBehaviorDown":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorLeft":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorRight":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorUp":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionGroup":{"type":"bool","value":false},"ZIndexBehavior":{"type":"Enum","value":{"enumType":"ZIndexBehavior","value":"Sibling"}}},"referenceId":"0005e01c-a1d8-2131-1eea-000074626bfe"},{"className":"LocalScript","name":"ButtonHandler","properties":{"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"Disabled":{"type":"bool","value":false},"LinkedSource":{"type":"Enum","value":{"enumType":"ContentId","value":""}},"RunContext":{"type":"Enum","value":{"enumType":"RunContext","value":"Legacy"}},"Source":{"type":"ProtectedString","value":"local ExitGameScreen = script.Parent\n\n-- exit confirmation window and the exit game button\nlocal Window = ExitGameScreen:WaitForChild(\"Window\")\nlocal ExitButton = ExitGameScreen:WaitForChild(\"ExitButton\")\n\n-- prompt buttons to confirm or deny teleport\nlocal Confirm = Window:WaitForChild(\"Confirm\")\nlocal Deny = Window:WaitForChild(\"Deny\")\nlocal CloseWindow = Window:WaitForChild(\"CloseWindow\")\nlocal closeWindowButton = CloseWindow:WaitForChild(\"ImageButton\")\n\n\n-- complete logic that displays Window when ExitButton is pressed and if confirm is pressed the player teleports, and if deny is pressed the window closes\nExitButton.MouseButton1Click:Connect(function()\n\tif Window.Visible == true then\n\t\tWindow.Visible = false\n\telse\n\t\tWindow.Visible = true\n\tend\nend)\n\nConfirm.MouseButton1Click:Connect(function()\n\t-- teleport player to main place\n\ttask.spawn(function()\n\n\t\t-- ADD FADE TO BLACK HERE!!! \n\t\tlocal TweenService = game:GetService(\"TweenService\")\n\t\tlocal tween = TweenService:Create(script.Parent.Parent.Black.Frame, TweenInfo.new(1), {BackgroundTransparency = 0})\n\t\ttween:Play()\n\t\ttween.Completed:Connect(function()\n\t\t\tlocal tween1 = TweenService:Create(script.Parent.Parent.Black.TeleportText, TweenInfo.new(1), {TextTransparency = 0})\n\t\t\ttween1:Play()\n\t\tend)\n\tend\n\t)\n\tgame:GetService(\"TeleportService\"):Teleport(15149402333, game.Players.LocalPlayer)\n\t-- fade the UI\n\t-- send remote to server ?\nend)\n\nDeny.MouseButton1Click:Connect(function()\n\tif game.Players.LocalPlayer.Character.Humanoid.Health == 0 then\n\t\tprint(\"attempt to respawn\")\n\t\tgame.ReplicatedStorage.Remotes.RespawnEvent:FireServer()\n\tend\n\tWindow.Visible = false\nend)\n\ncloseWindowButton.MouseButton1Click:Connect(function()\n\tif game.Players.LocalPlayer.Character.Humanoid.Health == 0 then\n\t\tprint(\"attempt to respawn\")\n\t\tgame.ReplicatedStorage.Remotes.RespawnEvent:FireServer()\n\tend\n\tWindow.Visible = false\nend)"}},"referenceId":"0005e01d-e34b-62ad-da45-0000352fcc88","source":"local ExitGameScreen = script.Parent\n\n-- exit confirmation window and the exit game button\nlocal Window = ExitGameScreen:WaitForChild(\"Window\")\nlocal ExitButton = ExitGameScreen:WaitForChild(\"ExitButton\")\n\n-- prompt buttons to confirm or deny teleport\nlocal Confirm = Window:WaitForChild(\"Confirm\")\nlocal Deny = Window:WaitForChild(\"Deny\")\nlocal CloseWindow = Window:WaitForChild(\"CloseWindow\")\nlocal closeWindowButton = CloseWindow:WaitForChild(\"ImageButton\")\n\n\n-- complete logic that displays Window when ExitButton is pressed and if confirm is pressed the player teleports, and if deny is pressed the window closes\nExitButton.MouseButton1Click:Connect(function()\n\tif Window.Visible == true then\n\t\tWindow.Visible = false\n\telse\n\t\tWindow.Visible = true\n\tend\nend)\n\nConfirm.MouseButton1Click:Connect(function()\n\t-- teleport player to main place\n\ttask.spawn(function()\n\n\t\t-- ADD FADE TO BLACK HERE!!! \n\t\tlocal TweenService = game:GetService(\"TweenService\")\n\t\tlocal tween = TweenService:Create(script.Parent.Parent.Black.Frame, TweenInfo.new(1), {BackgroundTransparency = 0})\n\t\ttween:Play()\n\t\ttween.Completed:Connect(function()\n\t\t\tlocal tween1 = TweenService:Create(script.Parent.Parent.Black.TeleportText, TweenInfo.new(1), {TextTransparency = 0})\n\t\t\ttween1:Play()\n\t\tend)\n\tend\n\t)\n\tgame:GetService(\"TeleportService\"):Teleport(15149402333, game.Players.LocalPlayer)\n\t-- fade the UI\n\t-- send remote to server ?\nend)\n\nDeny.MouseButton1Click:Connect(function()\n\tif game.Players.LocalPlayer.Character.Humanoid.Health == 0 then\n\t\tprint(\"attempt to respawn\")\n\t\tgame.ReplicatedStorage.Remotes.RespawnEvent:FireServer()\n\tend\n\tWindow.Visible = false\nend)\n\ncloseWindowButton.MouseButton1Click:Connect(function()\n\tif game.Players.LocalPlayer.Character.Humanoid.Health == 0 then\n\t\tprint(\"attempt to respawn\")\n\t\tgame.ReplicatedStorage.Remotes.RespawnEvent:FireServer()\n\tend\n\tWindow.Visible = false\nend)"},{"className":"TextButton","name":"ExitButton","properties":{"Active":{"type":"bool","value":true},"AnchorPoint":{"type":"Vector2","value":{"x":0,"y":0}},"AutoButtonColor":{"type":"bool","value":true},"AutoLocalize":{"type":"bool","value":true},"AutomaticSize":{"type":"Enum","value":{"enumType":"AutomaticSize","value":"None"}},"BackgroundColor3":{"type":"Color3","value":{"b":1,"g":1,"r":1}},"BackgroundTransparency":{"type":"float","value":0},"BorderColor3":{"type":"Color3","value":{"b":0,"g":0,"r":0}},"BorderMode":{"type":"Enum","value":{"enumType":"BorderMode","value":"Outline"}},"BorderSizePixel":{"type":"int","value":0},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"ClipsDescendants":{"type":"bool","value":false},"Draggable":{"type":"bool","value":false},"FontFace":{"type":"Enum","value":{"enumType":"Font","value":"json, Weight = Regular, Style = Normal }"}},"GuiState":{"type":"Enum","value":{"enumType":"GuiState","value":"Idle"}},"HoverHapticEffect":{"type":"nil"},"Interactable":{"type":"bool","value":true},"LayoutOrder":{"type":"int","value":0},"LineHeight":{"type":"float","value":1},"MaxVisibleGraphemes":{"type":"int","value":-1},"Modal":{"type":"bool","value":false},"NextSelectionDown":{"type":"nil"},"NextSelectionLeft":{"type":"nil"},"NextSelectionRight":{"type":"nil"},"NextSelectionUp":{"type":"nil"},"OpenTypeFeatures":{"type":"string","value":""},"OpenTypeFeaturesError":{"type":"string","value":""},"Position":{"type":"UDim2","value":{"x":{"offset":-160,"scale":0.5},"y":{"offset":8,"scale":0}}},"PressHapticEffect":{"type":"nil"},"RichText":{"type":"bool","value":false},"RootLocalizationTable":{"type":"nil"},"Rotation":{"type":"float","value":0},"Selectable":{"type":"bool","value":true},"Selected":{"type":"bool","value":false},"SelectionBehaviorDown":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorLeft":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorRight":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorUp":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionGroup":{"type":"bool","value":false},"SelectionImageObject":{"type":"nil"},"SelectionOrder":{"type":"int","value":0},"Size":{"type":"UDim2","value":{"x":{"offset":51,"scale":0},"y":{"offset":51,"scale":0}}},"SizeConstraint":{"type":"Enum","value":{"enumType":"SizeConstraint","value":"RelativeXY"}},"Style":{"type":"Enum","value":{"enumType":"ButtonStyle","value":"Custom"}},"Text":{"type":"string","value":"â¬…"},"TextColor3":{"type":"Color3","value":{"b":0,"g":0,"r":0}},"TextDirection":{"type":"Enum","value":{"enumType":"TextDirection","value":"Auto"}},"TextScaled":{"type":"bool","value":false},"TextSize":{"type":"float","value":64},"TextStrokeColor3":{"type":"Color3","value":{"b":0,"g":0,"r":0}},"TextStrokeTransparency":{"type":"float","value":1},"TextTransparency":{"type":"float","value":0},"TextTruncate":{"type":"Enum","value":{"enumType":"TextTruncate","value":"AtEnd"}},"TextWrapped":{"type":"bool","value":true},"TextXAlignment":{"type":"Enum","value":{"enumType":"TextXAlignment","value":"Center"}},"TextYAlignment":{"type":"Enum","value":{"enumType":"TextYAlignment","value":"Center"}},"Visible":{"type":"bool","value":true},"ZIndex":{"type":"int","value":1}},"referenceId":"0005e01e-b77b-8aa5-7f79-00007175882d"},{"className":"UIAspectRatioConstraint","name":"UIAspectRatioConstraint","properties":{"AspectRatio":{"type":"float","value":1},"AspectType":{"type":"Enum","value":{"enumType":"AspectType","value":"ScaleWithParentSize"}},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"DominantAxis":{"type":"Enum","value":{"enumType":"DominantAxis","value":"Width"}}},"referenceId":"0005e01f-0dbf-48d0-aeef-00003a0aceb3"},{"className":"UIStroke","name":"UIStroke","properties":{"ApplyStrokeMode":{"type":"Enum","value":{"enumType":"ApplyStrokeMode","value":"Border"}},"BorderOffset":{"type":"UDim","value":{"offset":0,"scale":0}},"BorderStrokePosition":{"type":"Enum","value":{"enumType":"BorderStrokePosition","value":"Outer"}},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"Color":{"type":"Color3","value":{"b":0.9215686917304992,"g":0.9254902601242064,"r":1}},"Enabled":{"type":"bool","value":true},"LineJoinMode":{"type":"Enum","value":{"enumType":"LineJoinMode","value":"Miter"}},"StrokeSizingMode":{"type":"Enum","value":{"enumType":"StrokeSizingMode","value":"FixedSize"}},"Thickness":{"type":"float","value":2},"Transparency":{"type":"float","value":0},"ZIndex":{"type":"int","value":1}},"referenceId":"0005e020-46fb-0a3a-90ad-000054daa0c0"},{"className":"UIGradient","name":"UIGradient","properties":{"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"Color":{"type":"ColorSequence","value":{"keypoints":[{"color":{"b":0,"g":0.14912642538547516,"r":1},"time":0},{"color":{"b":0.4739910066127777,"g":0.4932784140110016,"r":1},"time":1}]}},"Enabled":{"type":"bool","value":true},"Offset":{"type":"Vector2","value":{"x":0,"y":0}},"Rotation":{"type":"float","value":-90},"Transparency":{"type":"NumberSequence","value":{"keypoints":[{"envelope":0,"time":0,"value":0},{"envelope":0,"time":1,"value":0}]}}},"referenceId":"0005e021-b6f2-6920-3466-00007119fde0"},{"className":"Frame","name":"Window","properties":{"Active":{"type":"bool","value":false},"AnchorPoint":{"type":"Vector2","value":{"x":0.5,"y":0.5}},"AutoLocalize":{"type":"bool","value":true},"AutomaticSize":{"type":"Enum","value":{"enumType":"AutomaticSize","value":"None"}},"BackgroundColor3":{"type":"Color3","value":{"b":0.12941177189350128,"g":0.12941177189350128,"r":0.12941177189350128}},"BackgroundTransparency":{"type":"float","value":0.30000001192092896},"BorderColor3":{"type":"Color3","value":{"b":0,"g":0,"r":0}},"BorderMode":{"type":"Enum","value":{"enumType":"BorderMode","value":"Outline"}},"BorderSizePixel":{"type":"int","value":0},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"ClipsDescendants":{"type":"bool","value":false},"Draggable":{"type":"bool","value":false},"GuiState":{"type":"Enum","value":{"enumType":"GuiState","value":"Idle"}},"Interactable":{"type":"bool","value":true},"LayoutOrder":{"type":"int","value":0},"NextSelectionDown":{"type":"nil"},"NextSelectionLeft":{"type":"nil"},"NextSelectionRight":{"type":"nil"},"NextSelectionUp":{"type":"nil"},"Position":{"type":"UDim2","value":{"x":{"offset":0,"scale":0.5},"y":{"offset":0,"scale":0.550000011920929}}},"RootLocalizationTable":{"type":"nil"},"Rotation":{"type":"float","value":0},"Selectable":{"type":"bool","value":false},"SelectionBehaviorDown":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorLeft":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorRight":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorUp":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionGroup":{"type":"bool","value":false},"SelectionImageObject":{"type":"nil"},"SelectionOrder":{"type":"int","value":0},"Size":{"type":"UDim2","value":{"x":{"offset":0,"scale":0.699999988079071},"y":{"offset":0,"scale":0.30000001192092896}}},"SizeConstraint":{"type":"Enum","value":{"enumType":"SizeConstraint","value":"RelativeXY"}},"Style":{"type":"Enum","value":{"enumType":"FrameStyle","value":"Custom"}},"Visible":{"type":"bool","value":false},"ZIndex":{"type":"int","value":1}},"referenceId":"0005e022-f4d6-dc99-d7db-00003145ff9a"},{"className":"UIStroke","name":"UIStroke","properties":{"ApplyStrokeMode":{"type":"Enum","value":{"enumType":"ApplyStrokeMode","value":"Contextual"}},"BorderOffset":{"type":"UDim","value":{"offset":0,"scale":0}},"BorderStrokePosition":{"type":"Enum","value":{"enumType":"BorderStrokePosition","value":"Outer"}},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"Color":{"type":"Color3","value":{"b":1,"g":1,"r":1}},"Enabled":{"type":"bool","value":true},"LineJoinMode":{"type":"Enum","value":{"enumType":"LineJoinMode","value":"Miter"}},"StrokeSizingMode":{"type":"Enum","value":{"enumType":"StrokeSizingMode","value":"FixedSize"}},"Thickness":{"type":"float","value":4},"Transparency":{"type":"float","value":0},"ZIndex":{"type":"int","value":1}},"referenceId":"0005e023-2ab2-6600-5c20-000042668595"},{"className":"TextLabel","name":"TextLabel","properties":{"Active":{"type":"bool","value":false},"AnchorPoint":{"type":"Vector2","value":{"x":0.5,"y":0.5}},"AutoLocalize":{"type":"bool","value":true},"AutomaticSize":{"type":"Enum","value":{"enumType":"AutomaticSize","value":"None"}},"BackgroundColor3":{"type":"Color3","value":{"b":1,"g":1,"r":1}},"BackgroundTransparency":{"type":"float","value":1},"BorderColor3":{"type":"Color3","value":{"b":0,"g":0,"r":0}},"BorderMode":{"type":"Enum","value":{"enumType":"BorderMode","value":"Outline"}},"BorderSizePixel":{"type":"int","value":0},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"ClipsDescendants":{"type":"bool","value":false},"Draggable":{"type":"bool","value":false},"FontFace":{"type":"Enum","value":{"enumType":"Font","value":"Font { Family = rbxassetid://12187376174, Weight = Bold, Style = Normal }"}},"GuiState":{"type":"Enum","value":{"enumType":"GuiState","value":"Idle"}},"Interactable":{"type":"bool","value":true},"LayoutOrder":{"type":"int","value":0},"LineHeight":{"type":"float","value":1},"MaxVisibleGraphemes":{"type":"int","value":-1},"NextSelectionDown":{"type":"nil"},"NextSelectionLeft":{"type":"nil"},"NextSelectionRight":{"type":"nil"},"NextSelectionUp":{"type":"nil"},"OpenTypeFeatures":{"type":"string","value":""},"OpenTypeFeaturesError":{"type":"string","value":""},"Position":{"type":"UDim2","value":{"x":{"offset":0,"scale":0.5},"y":{"offset":0,"scale":0.30000001192092896}}},"RichText":{"type":"bool","value":false},"RootLocalizationTable":{"type":"nil"},"Rotation":{"type":"float","value":0},"Selectable":{"type":"bool","value":false},"SelectionBehaviorDown":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorLeft":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorRight":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorUp":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionGroup":{"type":"bool","value":false},"SelectionImageObject":{"type":"nil"},"SelectionOrder":{"type":"int","value":0},"Size":{"type":"UDim2","value":{"x":{"offset":0,"scale":0.800000011920929},"y":{"offset":0,"scale":0.4000000059604645}}},"SizeConstraint":{"type":"Enum","value":{"enumType":"SizeConstraint","value":"RelativeXY"}},"Text":{"type":"string","value":"RETURN TO LOBBY?"},"TextColor3":{"type":"Color3","value":{"b":1,"g":1,"r":1}},"TextDirection":{"type":"Enum","value":{"enumType":"TextDirection","value":"Auto"}},"TextScaled":{"type":"bool","value":true},"TextSize":{"type":"float","value":14},"TextStrokeColor3":{"type":"Color3","value":{"b":0,"g":0,"r":0}},"TextStrokeTransparency":{"type":"float","value":1},"TextTransparency":{"type":"float","value":0},"TextTruncate":{"type":"Enum","value":{"enumType":"TextTruncate","value":"None"}},"TextWrapped":{"type":"bool","value":true},"TextXAlignment":{"type":"Enum","value":{"enumType":"TextXAlignment","value":"Center"}},"TextYAlignment":{"type":"Enum","value":{"enumType":"TextYAlignment","value":"Center"}},"Visible":{"type":"bool","value":true},"ZIndex":{"type":"int","value":1}},"referenceId":"0005e024-4411-dd92-1320-00000c9bf751"},{"className":"Frame","name":"CloseWindow","properties":{"Active":{"type":"bool","value":false},"AnchorPoint":{"type":"Vector2","value":{"x":1,"y":0}},"AutoLocalize":{"type":"bool","value":true},"AutomaticSize":{"type":"Enum","value":{"enumType":"AutomaticSize","value":"None"}},"BackgroundColor3":{"type":"Color3","value":{"b":0,"g":0.9764706492424012,"r":0}},"BackgroundTransparency":{"type":"float","value":1},"BorderColor3":{"type":"Color3","value":{"b":0,"g":0,"r":0}},"BorderMode":{"type":"Enum","value":{"enumType":"BorderMode","value":"Outline"}},"BorderSizePixel":{"type":"int","value":0},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"ClipsDescendants":{"type":"bool","value":false},"Draggable":{"type":"bool","value":false},"GuiState":{"type":"Enum","value":{"enumType":"GuiState","value":"Idle"}},"Interactable":{"type":"bool","value":true},"LayoutOrder":{"type":"int","value":0},"NextSelectionDown":{"type":"nil"},"NextSelectionLeft":{"type":"nil"},"NextSelectionRight":{"type":"nil"},"NextSelectionUp":{"type":"nil"},"Position":{"type":"UDim2","value":{"x":{"offset":0,"scale":1},"y":{"offset":0,"scale":0}}},"RootLocalizationTable":{"type":"nil"},"Rotation":{"type":"float","value":0},"Selectable":{"type":"bool","value":false},"SelectionBehaviorDown":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorLeft":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorRight":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorUp":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionGroup":{"type":"bool","value":false},"SelectionImageObject":{"type":"nil"},"SelectionOrder":{"type":"int","value":0},"Size":{"type":"UDim2","value":{"x":{"offset":0,"scale":0.10000000149011612},"y":{"offset":0,"scale":0.20000000298023224}}},"SizeConstraint":{"type":"Enum","value":{"enumType":"SizeConstraint","value":"RelativeXY"}},"Style":{"type":"Enum","value":{"enumType":"FrameStyle","value":"Custom"}},"Visible":{"type":"bool","value":true},"ZIndex":{"type":"int","value":3}},"referenceId":"0005e025-1430-6bc5-57b2-00006ead83a2"},{"className":"ImageButton","name":"ImageButton","properties":{"Active":{"type":"bool","value":true},"AnchorPoint":{"type":"Vector2","value":{"x":1,"y":0}},"AutoButtonColor":{"type":"bool","value":true},"AutoLocalize":{"type":"bool","value":true},"AutomaticSize":{"type":"Enum","value":{"enumType":"AutomaticSize","value":"None"}},"BackgroundColor3":{"type":"Color3","value":{"b":0,"g":0.06666667014360428,"r":0.5803921818733215}},"BackgroundTransparency":{"type":"float","value":0},"BorderColor3":{"type":"Color3","value":{"b":0,"g":0,"r":0}},"BorderMode":{"type":"Enum","value":{"enumType":"BorderMode","value":"Outline"}},"BorderSizePixel":{"type":"int","value":0},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"ClipsDescendants":{"type":"bool","value":false},"Draggable":{"type":"bool","value":false},"GuiState":{"type":"Enum","value":{"enumType":"GuiState","value":"Idle"}},"HoverHapticEffect":{"type":"nil"},"HoverImage":{"type":"Enum","value":{"enumType":"ContentId","value":""}},"HoverImageContent":{"type":"Content","value":null},"Image":{"type":"Enum","value":{"enumType":"ContentId","value":"rbxassetid://4661609682"}},"ImageColor3":{"type":"Color3","value":{"b":1,"g":1,"r":1}},"ImageContent":{"type":"Content","value":null},"ImageRectOffset":{"type":"Vector2","value":{"x":0,"y":0}},"ImageRectSize":{"type":"Vector2","value":{"x":0,"y":0}},"ImageTransparency":{"type":"float","value":0},"Interactable":{"type":"bool","value":true},"LayoutOrder":{"type":"int","value":0},"Modal":{"type":"bool","value":false},"NextSelectionDown":{"type":"nil"},"NextSelectionLeft":{"type":"nil"},"NextSelectionRight":{"type":"nil"},"NextSelectionUp":{"type":"nil"},"Position":{"type":"UDim2","value":{"x":{"offset":0,"scale":1},"y":{"offset":0,"scale":0}}},"PressHapticEffect":{"type":"nil"},"PressedImage":{"type":"Enum","value":{"enumType":"ContentId","value":""}},"PressedImageContent":{"type":"Content","value":null},"ResampleMode":{"type":"Enum","value":{"enumType":"ResamplerMode","value":"Default"}},"RootLocalizationTable":{"type":"nil"},"Rotation":{"type":"float","value":0},"ScaleType":{"type":"Enum","value":{"enumType":"ScaleType","value":"Stretch"}},"Selectable":{"type":"bool","value":true},"Selected":{"type":"bool","value":false},"SelectionBehaviorDown":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorLeft":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorRight":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorUp":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionGroup":{"type":"bool","value":false},"SelectionImageObject":{"type":"nil"},"SelectionOrder":{"type":"int","value":0},"Size":{"type":"UDim2","value":{"x":{"offset":0,"scale":1},"y":{"offset":0,"scale":1}}},"SizeConstraint":{"type":"Enum","value":{"enumType":"SizeConstraint","value":"RelativeXY"}},"SliceCenter":{"type":"Rect","value":{"max":{"x":0,"y":0},"min":{"x":0,"y":0}}},"SliceScale":{"type":"float","value":1},"Style":{"type":"Enum","value":{"enumType":"ButtonStyle","value":"Custom"}},"TileSize":{"type":"UDim2","value":{"x":{"offset":0,"scale":1},"y":{"offset":0,"scale":1}}},"Visible":{"type":"bool","value":true},"ZIndex":{"type":"int","value":1}},"referenceId":"0005e026-af60-7b60-a73f-0000027626e7"},{"className":"UIAspectRatioConstraint","name":"UIAspectRatioConstraint","properties":{"AspectRatio":{"type":"float","value":1},"AspectType":{"type":"Enum","value":{"enumType":"AspectType","value":"FitWithinMaxSize"}},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"DominantAxis":{"type":"Enum","value":{"enumType":"DominantAxis","value":"Width"}}},"referenceId":"0005e027-00af-8636-7865-0000236ea7de"},{"className":"UISizeConstraint","name":"UISizeConstraint","properties":{"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"MaxSize":{"type":"Vector2","value":{"x":null,"y":null}},"MinSize":{"type":"Vector2","value":{"x":32,"y":32}}},"referenceId":"0005e028-94d8-36f6-d76f-000068e0e12f"},{"className":"UIStroke","name":"UIStroke","properties":{"ApplyStrokeMode":{"type":"Enum","value":{"enumType":"ApplyStrokeMode","value":"Contextual"}},"BorderOffset":{"type":"UDim","value":{"offset":0,"scale":0}},"BorderStrokePosition":{"type":"Enum","value":{"enumType":"BorderStrokePosition","value":"Outer"}},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"Color":{"type":"Color3","value":{"b":0,"g":0.1490196138620377,"r":1}},"Enabled":{"type":"bool","value":true},"LineJoinMode":{"type":"Enum","value":{"enumType":"LineJoinMode","value":"Miter"}},"StrokeSizingMode":{"type":"Enum","value":{"enumType":"StrokeSizingMode","value":"FixedSize"}},"Thickness":{"type":"float","value":4},"Transparency":{"type":"float","value":0},"ZIndex":{"type":"int","value":1}},"referenceId":"0005e029-d20a-c3a6-13aa-0000406b6e3f"},{"className":"TextButton","name":"Confirm","properties":{"Active":{"type":"bool","value":true},"AnchorPoint":{"type":"Vector2","value":{"x":0.5,"y":0.5}},"AutoButtonColor":{"type":"bool","value":true},"AutoLocalize":{"type":"bool","value":true},"AutomaticSize":{"type":"Enum","value":{"enumType":"AutomaticSize","value":"None"}},"BackgroundColor3":{"type":"Color3","value":{"b":0,"g":0.9764706492424012,"r":0}},"BackgroundTransparency":{"type":"float","value":0.5},"BorderColor3":{"type":"Color3","value":{"b":0,"g":0,"r":0}},"BorderMode":{"type":"Enum","value":{"enumType":"BorderMode","value":"Outline"}},"BorderSizePixel":{"type":"int","value":0},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"ClipsDescendants":{"type":"bool","value":false},"Draggable":{"type":"bool","value":false},"FontFace":{"type":"Enum","value":{"enumType":"Font","value":"json, Weight = Bold, Style = Normal }"}},"GuiState":{"type":"Enum","value":{"enumType":"GuiState","value":"Idle"}},"HoverHapticEffect":{"type":"nil"},"Interactable":{"type":"bool","value":true},"LayoutOrder":{"type":"int","value":0},"LineHeight":{"type":"float","value":1},"MaxVisibleGraphemes":{"type":"int","value":-1},"Modal":{"type":"bool","value":false},"NextSelectionDown":{"type":"nil"},"NextSelectionLeft":{"type":"nil"},"NextSelectionRight":{"type":"nil"},"NextSelectionUp":{"type":"nil"},"OpenTypeFeatures":{"type":"string","value":""},"OpenTypeFeaturesError":{"type":"string","value":""},"Position":{"type":"UDim2","value":{"x":{"offset":0,"scale":0.30000001192092896},"y":{"offset":0,"scale":0.699999988079071}}},"PressHapticEffect":{"type":"nil"},"RichText":{"type":"bool","value":false},"RootLocalizationTable":{"type":"nil"},"Rotation":{"type":"float","value":0},"Selectable":{"type":"bool","value":true},"Selected":{"type":"bool","value":false},"SelectionBehaviorDown":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorLeft":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorRight":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorUp":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionGroup":{"type":"bool","value":false},"SelectionImageObject":{"type":"nil"},"SelectionOrder":{"type":"int","value":0},"Size":{"type":"UDim2","value":{"x":{"offset":0,"scale":0.30000001192092896},"y":{"offset":0,"scale":0.4000000059604645}}},"SizeConstraint":{"type":"Enum","value":{"enumType":"SizeConstraint","value":"RelativeXY"}},"Style":{"type":"Enum","value":{"enumType":"ButtonStyle","value":"Custom"}},"Text":{"type":"string","value":"YES"},"TextColor3":{"type":"Color3","value":{"b":1,"g":1,"r":1}},"TextDirection":{"type":"Enum","value":{"enumType":"TextDirection","value":"Auto"}},"TextScaled":{"type":"bool","value":true},"TextSize":{"type":"float","value":14},"TextStrokeColor3":{"type":"Color3","value":{"b":0,"g":0,"r":0}},"TextStrokeTransparency":{"type":"float","value":1},"TextTransparency":{"type":"float","value":0},"TextTruncate":{"type":"Enum","value":{"enumType":"TextTruncate","value":"None"}},"TextWrapped":{"type":"bool","value":true},"TextXAlignment":{"type":"Enum","value":{"enumType":"TextXAlignment","value":"Center"}},"TextYAlignment":{"type":"Enum","value":{"enumType":"TextYAlignment","value":"Center"}},"Visible":{"type":"bool","value":true},"ZIndex":{"type":"int","value":1}},"referenceId":"0005e02a-c983-e26c-d090-000018be98ef"},{"className":"UIStroke","name":"UIStroke","properties":{"ApplyStrokeMode":{"type":"Enum","value":{"enumType":"ApplyStrokeMode","value":"Border"}},"BorderOffset":{"type":"UDim","value":{"offset":0,"scale":0}},"BorderStrokePosition":{"type":"Enum","value":{"enumType":"BorderStrokePosition","value":"Outer"}},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"Color":{"type":"Color3","value":{"b":1,"g":1,"r":1}},"Enabled":{"type":"bool","value":true},"LineJoinMode":{"type":"Enum","value":{"enumType":"LineJoinMode","value":"Miter"}},"StrokeSizingMode":{"type":"Enum","value":{"enumType":"StrokeSizingMode","value":"FixedSize"}},"Thickness":{"type":"float","value":4},"Transparency":{"type":"float","value":0},"ZIndex":{"type":"int","value":1}},"referenceId":"0005e02b-899c-5e2e-3714-0000538d6aa9"},{"className":"TextButton","name":"Deny","properties":{"Active":{"type":"bool","value":true},"AnchorPoint":{"type":"Vector2","value":{"x":0.5,"y":0.5}},"AutoButtonColor":{"type":"bool","value":true},"AutoLocalize":{"type":"bool","value":true},"AutomaticSize":{"type":"Enum","value":{"enumType":"AutomaticSize","value":"None"}},"BackgroundColor3":{"type":"Color3","value":{"b":0,"g":0.06666667014360428,"r":0.5803921818733215}},"BackgroundTransparency":{"type":"float","value":0.5},"BorderColor3":{"type":"Color3","value":{"b":0,"g":0,"r":0}},"BorderMode":{"type":"Enum","value":{"enumType":"BorderMode","value":"Outline"}},"BorderSizePixel":{"type":"int","value":0},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"ClipsDescendants":{"type":"bool","value":false},"Draggable":{"type":"bool","value":false},"FontFace":{"type":"Enum","value":{"enumType":"Font","value":"json, Weight = Bold, Style = Normal }"}},"GuiState":{"type":"Enum","value":{"enumType":"GuiState","value":"Idle"}},"HoverHapticEffect":{"type":"nil"},"Interactable":{"type":"bool","value":true},"LayoutOrder":{"type":"int","value":0},"LineHeight":{"type":"float","value":1},"MaxVisibleGraphemes":{"type":"int","value":-1},"Modal":{"type":"bool","value":false},"NextSelectionDown":{"type":"nil"},"NextSelectionLeft":{"type":"nil"},"NextSelectionRight":{"type":"nil"},"NextSelectionUp":{"type":"nil"},"OpenTypeFeatures":{"type":"string","value":""},"OpenTypeFeaturesError":{"type":"string","value":""},"Position":{"type":"UDim2","value":{"x":{"offset":0,"scale":0.699999988079071},"y":{"offset":0,"scale":0.699999988079071}}},"PressHapticEffect":{"type":"nil"},"RichText":{"type":"bool","value":false},"RootLocalizationTable":{"type":"nil"},"Rotation":{"type":"float","value":0},"Selectable":{"type":"bool","value":true},"Selected":{"type":"bool","value":false},"SelectionBehaviorDown":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorLeft":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorRight":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorUp":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionGroup":{"type":"bool","value":false},"SelectionImageObject":{"type":"nil"},"SelectionOrder":{"type":"int","value":0},"Size":{"type":"UDim2","value":{"x":{"offset":0,"scale":0.30000001192092896},"y":{"offset":0,"scale":0.4000000059604645}}},"SizeConstraint":{"type":"Enum","value":{"enumType":"SizeConstraint","value":"RelativeXY"}},"Style":{"type":"Enum","value":{"enumType":"ButtonStyle","value":"Custom"}},"Text":{"type":"string","value":"NO"},"TextColor3":{"type":"Color3","value":{"b":1,"g":1,"r":1}},"TextDirection":{"type":"Enum","value":{"enumType":"TextDirection","value":"Auto"}},"TextScaled":{"type":"bool","value":true},"TextSize":{"type":"float","value":14},"TextStrokeColor3":{"type":"Color3","value":{"b":0,"g":0,"r":0}},"TextStrokeTransparency":{"type":"float","value":1},"TextTransparency":{"type":"float","value":0},"TextTruncate":{"type":"Enum","value":{"enumType":"TextTruncate","value":"None"}},"TextWrapped":{"type":"bool","value":true},"TextXAlignment":{"type":"Enum","value":{"enumType":"TextXAlignment","value":"Center"}},"TextYAlignment":{"type":"Enum","value":{"enumType":"TextYAlignment","value":"Center"}},"Visible":{"type":"bool","value":true},"ZIndex":{"type":"int","value":1}},"referenceId":"0005e02c-d448-7197-953f-00007b6a832f"},{"className":"UIStroke","name":"UIStroke","properties":{"ApplyStrokeMode":{"type":"Enum","value":{"enumType":"ApplyStrokeMode","value":"Border"}},"BorderOffset":{"type":"UDim","value":{"offset":0,"scale":0}},"BorderStrokePosition":{"type":"Enum","value":{"enumType":"BorderStrokePosition","value":"Outer"}},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"Color":{"type":"Color3","value":{"b":1,"g":1,"r":1}},"Enabled":{"type":"bool","value":true},"LineJoinMode":{"type":"Enum","value":{"enumType":"LineJoinMode","value":"Miter"}},"StrokeSizingMode":{"type":"Enum","value":{"enumType":"StrokeSizingMode","value":"FixedSize"}},"Thickness":{"type":"float","value":4},"Transparency":{"type":"float","value":0},"ZIndex":{"type":"int","value":1}},"referenceId":"0005e02d-74df-a2ba-9efb-00003c01fcd4"},{"className":"ScreenGui","name":"Freecam","properties":{"AutoLocalize":{"type":"bool","value":true},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"ClipToDeviceSafeArea":{"type":"bool","value":true},"DisplayOrder":{"type":"int","value":0},"Enabled":{"type":"bool","value":true},"ResetOnSpawn":{"type":"bool","value":false},"RootLocalizationTable":{"type":"nil"},"SafeAreaCompatibility":{"type":"Enum","value":{"enumType":"SafeAreaCompatibility","value":"FullscreenExtension"}},"ScreenInsets":{"type":"Enum","value":{"enumType":"ScreenInsets","value":"CoreUISafeInsets"}},"SelectionBehaviorDown":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorLeft":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorRight":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorUp":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionGroup":{"type":"bool","value":false},"ZIndexBehavior":{"type":"Enum","value":{"enumType":"ZIndexBehavior","value":"Global"}}},"referenceId":"0005e02e-c6be-0def-eb55-0000234a5cef"},{"className":"LocalScript","name":"FreecamScript","properties":{"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"Disabled":{"type":"bool","value":false},"LinkedSource":{"type":"Enum","value":{"enumType":"ContentId","value":""}},"RunContext":{"type":"Enum","value":{"enumType":"RunContext","value":"Legacy"}},"Source":{"type":"ProtectedString","value":"--!nonstrict\n------------------------------------------------------------------------\n-- Freecam\n-- Cinematic free camera for spectating and video production.\n------------------------------------------------------------------------\n\nlocal pi    = math.pi\nlocal abs   = math.abs\nlocal clamp = math.clamp\nlocal exp   = math.exp\nlocal rad   = math.rad\nlocal sign  = math.sign\nlocal sqrt  = math.sqrt\nlocal tan   = math.tan\n\nlocal ContextActionService = game:GetService(\"ContextActionService\")\nlocal Players = game:GetService(\"Players\")\nlocal RunService = game:GetService(\"RunService\")\nlocal StarterGui = game:GetService(\"StarterGui\")\nlocal UserInputService = game:GetService(\"UserInputService\")\nlocal Workspace = game:GetService(\"Workspace\")\nlocal Settings = UserSettings()\nlocal GameSettings = Settings.GameSettings\n\nlocal LocalPlayer = Players.LocalPlayer\nif not LocalPlayer then\n\tPlayers:GetPropertyChangedSignal(\"LocalPlayer\"):Wait()\n\tLocalPlayer = Players.LocalPlayer\nend\n\nlocal Camera = Workspace.CurrentCamera\nWorkspace:GetPropertyChangedSignal(\"CurrentCamera\"):Connect(function()\n\tlocal newCamera = Workspace.CurrentCamera\n\tif newCamera then\n\t\tCamera = newCamera\n\tend\nend)\n\nlocal FFlagUserExitFreecamBreaksWithShiftlock\ndo\n    local success, result = pcall(function()\n        return UserSettings():IsUserFeatureEnabled(\"UserExitFreecamBreaksWithShiftlock\")\n    end)\n    FFlagUserExitFreecamBreaksWithShiftlock = success and result\nend\n\n------------------------------------------------------------------------\n\nlocal TOGGLE_INPUT_PRIORITY = Enum.ContextActionPriority.Low.Value\nlocal INPUT_PRIORITY = Enum.ContextActionPriority.High.Value\nlocal FREECAM_MACRO_KB = {Enum.KeyCode.LeftShift, Enum.KeyCode.P}\n\nlocal NAV_GAIN = Vector3.new(1, 1, 1)*64\nlocal PAN_GAIN = Vector2.new(0.75, 1)*8\nlocal FOV_GAIN = 300\n\nlocal PITCH_LIMIT = rad(90)\n\nlocal VEL_STIFFNESS = 1.5\nlocal PAN_STIFFNESS = 1.0\nlocal FOV_STIFFNESS = 4.0\n\n------------------------------------------------------------------------\n\nlocal Spring = {} do\n\tSpring.__index = Spring\n\n\tfunction Spring.new(freq, pos)\n\t\tlocal self = setmetatable({}, Spring)\n\t\tself.f = freq\n\t\tself.p = pos\n\t\tself.v = pos*0\n\t\treturn self\n\tend\n\n\tfunction Spring:Update(dt, goal)\n\t\tlocal f = self.f*2*pi\n\t\tlocal p0 = self.p\n\t\tlocal v0 = self.v\n\n\t\tlocal offset = goal - p0\n\t\tlocal decay = exp(-f*dt)\n\n\t\tlocal p1 = goal + (v0*dt - offset*(f*dt + 1))*decay\n\t\tlocal v1 = (f*dt*(offset*f - v0) + v0)*decay\n\n\t\tself.p = p1\n\t\tself.v = v1\n\n\t\treturn p1\n\tend\n\n\tfunction Spring:Reset(pos)\n\t\tself.p = pos\n\t\tself.v = pos*0\n\tend\nend\n\n------------------------------------------------------------------------\n\nlocal cameraPos = Vector3.new()\nlocal cameraRot = Vector2.new()\nlocal cameraFov = 0\n\nlocal velSpring = Spring.new(VEL_STIFFNESS, Vector3.new())\nlocal panSpring = Spring.new(PAN_STIFFNESS, Vector2.new())\nlocal fovSpring = Spring.new(FOV_STIFFNESS, 0)\n\n------------------------------------------------------------------------\n\nlocal Input = {} do\n\tlocal thumbstickCurve do\n\t\tlocal K_CURVATURE = 2.0\n\t\tlocal K_DEADZONE = 0.15\n\n\t\tlocal function fCurve(x)\n\t\t\treturn (exp(K_CURVATURE*x) - 1)/(exp(K_CURVATURE) - 1)\n\t\tend\n\n\t\tlocal function fDeadzone(x)\n\t\t\treturn fCurve((x - K_DEADZONE)/(1 - K_DEADZONE))\n\t\tend\n\n\t\tfunction thumbstickCurve(x)\n\t\t\treturn sign(x)*clamp(fDeadzone(abs(x)), 0, 1)\n\t\tend\n\tend\n\n\tlocal gamepad = {\n\t\tButtonX = 0,\n\t\tButtonY = 0,\n\t\tDPadDown = 0,\n\t\tDPadUp = 0,\n\t\tButtonL2 = 0,\n\t\tButtonR2 = 0,\n\t\tThumbstick1 = Vector2.new(),\n\t\tThumbstick2 = Vector2.new(),\n\t}\n\n\tlocal keyboard = {\n\t\tW = 0,\n\t\tA = 0,\n\t\tS = 0,\n\t\tD = 0,\n\t\tE = 0,\n\t\tQ = 0,\n\t\tU = 0,\n\t\tH = 0,\n\t\tJ = 0,\n\t\tK = 0,\n\t\tI = 0,\n\t\tY = 0,\n\t\tUp = 0,\n\t\tDown = 0,\n\t\tLeftShift = 0,\n\t\tRightShift = 0,\n\t}\n\n\tlocal mouse = {\n\t\tDelta = Vector2.new(),\n\t\tMouseWheel = 0,\n\t}\n\n\tlocal NAV_GAMEPAD_SPEED  = Vector3.new(1, 1, 1)\n\tlocal NAV_KEYBOARD_SPEED = Vector3.new(1, 1, 1)\n\tlocal PAN_MOUSE_SPEED    = Vector2.new(1, 1)*(pi/64)\n\tlocal PAN_GAMEPAD_SPEED  = Vector2.new(1, 1)*(pi/8)\n\tlocal FOV_WHEEL_SPEED    = 1.0\n\tlocal FOV_GAMEPAD_SPEED  = 0.25\n\tlocal NAV_ADJ_SPEED      = 0.75\n\tlocal NAV_SHIFT_MUL      = 0.25\n\n\tlocal navSpeed = 1\n\n\tfunction Input.Vel(dt)\n\t\tnavSpeed = clamp(navSpeed + dt*(keyboard.Up - keyboard.Down)*NAV_ADJ_SPEED, 0.01, 4)\n\n\t\tlocal kGamepad = Vector3.new(\n\t\t\tthumbstickCurve(gamepad.Thumbstick1.X),\n\t\t\tthumbstickCurve(gamepad.ButtonR2) - thumbstickCurve(gamepad.ButtonL2),\n\t\t\tthumbstickCurve(-gamepad.Thumbstick1.Y)\n\t\t)*NAV_GAMEPAD_SPEED\n\n\t\tlocal kKeyboard = Vector3.new(\n\t\t\tkeyboard.D - keyboard.A + keyboard.K - keyboard.H,\n\t\t\tkeyboard.E - keyboard.Q + keyboard.I - keyboard.Y,\n\t\t\tkeyboard.S - keyboard.W + keyboard.J - keyboard.U\n\t\t)*NAV_KEYBOARD_SPEED\n\n\t\tlocal shift = UserInputService:IsKeyDown(Enum.KeyCode.LeftShift) or UserInputService:IsKeyDown(Enum.KeyCode.RightShift)\n\n\t\treturn (kGamepad + kKeyboard)*(navSpeed*(shift and NAV_SHIFT_MUL or 1))\n\tend\n\n\tfunction Input.Pan(dt)\n\t\tlocal kGamepad = Vector2.new(\n\t\t\tthumbstickCurve(gamepad.Thumbstick2.Y),\n\t\t\tthumbstickCurve(-gamepad.Thumbstick2.X)\n\t\t)*PAN_GAMEPAD_SPEED\n\t\tlocal kMouse = mouse.Delta*PAN_MOUSE_SPEED\n\t\tmouse.Delta = Vector2.new()\n\t\treturn kGamepad + kMouse\n\tend\n\n\tfunction Input.Fov(dt)\n\t\tlocal kGamepad = (gamepad.ButtonX - gamepad.ButtonY)*FOV_GAMEPAD_SPEED\n\t\tlocal kMouse = mouse.MouseWheel*FOV_WHEEL_SPEED\n\t\tmouse.MouseWheel = 0\n\t\treturn kGamepad + kMouse\n\tend\n\n\tdo\n\t\tlocal function Keypress(action, state, input)\n\t\t\tkeyboard[input.KeyCode.Name] = state == Enum.UserInputState.Begin and 1 or 0\n\t\t\treturn Enum.ContextActionResult.Sink\n\t\tend\n\n\t\tlocal function GpButton(action, state, input)\n\t\t\tgamepad[input.KeyCode.Name] = state == Enum.UserInputState.Begin and 1 or 0\n\t\t\treturn Enum.ContextActionResult.Sink\n\t\tend\n\n\t\tlocal function MousePan(action, state, input)\n\t\t\tlocal delta = input.Delta\n\t\t\tmouse.Delta = Vector2.new(-delta.y, -delta.x)\n\t\t\treturn Enum.ContextActionResult.Sink\n\t\tend\n\n\t\tlocal function Thumb(action, state, input)\n\t\t\tgamepad[input.KeyCode.Name] = input.Position\n\t\t\treturn Enum.ContextActionResult.Sink\n\t\tend\n\n\t\tlocal function Trigger(action, state, input)\n\t\t\tgamepad[input.KeyCode.Name] = input.Position.z\n\t\t\treturn Enum.ContextActionResult.Sink\n\t\tend\n\n\t\tlocal function MouseWheel(action, state, input)\n\t\t\tmouse[input.UserInputType.Name] = -input.Position.z\n\t\t\treturn Enum.ContextActionResult.Sink\n\t\tend\n\n\t\tlocal function Zero(t)\n\t\t\tfor k, v in pairs(t) do\n\t\t\t\tt[k] = v*0\n\t\t\tend\n\t\tend\n\n\t\tfunction Input.StartCapture()\n\t\t\tContextActionService:BindActionAtPriority(\"FreecamKeyboard\", Keypress, false, INPUT_PRIORITY,\n\t\t\t\tEnum.KeyCode.W, Enum.KeyCode.U,\n\t\t\t\tEnum.KeyCode.A, Enum.KeyCode.H,\n\t\t\t\tEnum.KeyCode.S, Enum.KeyCode.J,\n\t\t\t\tEnum.KeyCode.D, Enum.KeyCode.K,\n\t\t\t\tEnum.KeyCode.E, Enum.KeyCode.I,\n\t\t\t\tEnum.KeyCode.Q, Enum.KeyCode.Y,\n\t\t\t\tEnum.KeyCode.Up, Enum.KeyCode.Down\n\t\t\t)\n\t\t\tContextActionService:BindActionAtPriority(\"FreecamMousePan\",          MousePan,   false, INPUT_PRIORITY, Enum.UserInputType.MouseMovement)\n\t\t\tContextActionService:BindActionAtPriority(\"FreecamMouseWheel\",        MouseWheel, false, INPUT_PRIORITY, Enum.UserInputType.MouseWheel)\n\t\t\tContextActionService:BindActionAtPriority(\"FreecamGamepadButton\",     GpButton,   false, INPUT_PRIORITY, Enum.KeyCode.ButtonX, Enum.KeyCode.ButtonY)\n\t\t\tContextActionService:BindActionAtPriority(\"FreecamGamepadTrigger\",    Trigger,    false, INPUT_PRIORITY, Enum.KeyCode.ButtonR2, Enum.KeyCode.ButtonL2)\n\t\t\tContextActionService:BindActionAtPriority(\"FreecamGamepadThumbstick\", Thumb,      false, INPUT_PRIORITY, Enum.KeyCode.Thumbstick1, Enum.KeyCode.Thumbstick2)\n\t\tend\n\n\t\tfunction Input.StopCapture()\n\t\t\tnavSpeed = 1\n\t\t\tZero(gamepad)\n\t\t\tZero(keyboard)\n\t\t\tZero(mouse)\n\t\t\tContextActionService:UnbindAction(\"FreecamKeyboard\")\n\t\t\tContextActionService:UnbindAction(\"FreecamMousePan\")\n\t\t\tContextActionService:UnbindAction(\"FreecamMouseWheel\")\n\t\t\tContextActionService:UnbindAction(\"FreecamGamepadButton\")\n\t\t\tContextActionService:UnbindAction(\"FreecamGamepadTrigger\")\n\t\t\tContextActionService:UnbindAction(\"FreecamGamepadThumbstick\")\n\t\tend\n\tend\nend\n\n------------------------------------------------------------------------\n\nlocal function StepFreecam(dt)\n\tlocal vel = velSpring:Update(dt, Input.Vel(dt))\n\tlocal pan = panSpring:Update(dt, Input.Pan(dt))\n\tlocal fov = fovSpring:Update(dt, Input.Fov(dt))\n\n\tlocal zoomFactor = sqrt(tan(rad(70/2))/tan(rad(cameraFov/2)))\n\n\tcameraFov = clamp(cameraFov + fov*FOV_GAIN*(dt/zoomFactor), 1, 120)\n\tcameraRot = cameraRot + pan*PAN_GAIN*(dt/zoomFactor)\n\tcameraRot = Vector2.new(clamp(cameraRot.x, -PITCH_LIMIT, PITCH_LIMIT), cameraRot.y%(2*pi))\n\n\tlocal cameraCFrame = CFrame.new(cameraPos)*CFrame.fromOrientation(cameraRot.x, cameraRot.y, 0)*CFrame.new(vel*NAV_GAIN*dt)\n\tcameraPos = cameraCFrame.p\n\n\tCamera.CFrame = cameraCFrame\n\tCamera.Focus = cameraCFrame \n\tCamera.FieldOfView = cameraFov\nend\n\nlocal function CheckMouseLockAvailability()\n\tlocal devAllowsMouseLock = Players.LocalPlayer.DevEnableMouseLock\n\tlocal devMovementModeIsScriptable = Players.LocalPlayer.DevComputerMovementMode == Enum.DevComputerMovementMode.Scriptable\n\tlocal userHasMouseLockModeEnabled = GameSettings.ControlMode == Enum.ControlMode.MouseLockSwitch\n\tlocal userHasClickToMoveEnabled =  GameSettings.ComputerMovementMode == Enum.ComputerMovementMode.ClickToMove\n\tlocal MouseLockAvailable = devAllowsMouseLock and userHasMouseLockModeEnabled and not userHasClickToMoveEnabled and not devMovementModeIsScriptable\n\n\treturn MouseLockAvailable\nend\n\n------------------------------------------------------------------------\n\nlocal PlayerState = {} do\n\tlocal mouseBehavior\n\tlocal mouseIconEnabled\n\tlocal cameraType\n\tlocal cameraFocus\n\tlocal cameraCFrame\n\tlocal cameraFieldOfView\n\tlocal screenGuis = {}\n\tlocal coreGuis = {\n\t\tBackpack = true,\n\t\tChat = true,\n\t\tHealth = true,\n\t\tPlayerList = true,\n\t}\n\tlocal setCores = {\n\t\tBadgesNotificationsActive = true,\n\t\tPointsNotificationsActive = true,\n\t}\n\n\t-- Save state and set up for freecam\n\tfunction PlayerState.Push()\n\t\tfor name in pairs(coreGuis) do\n\t\t\tcoreGuis[name] = StarterGui:GetCoreGuiEnabled(Enum.CoreGuiType[name])\n\t\t\tStarterGui:SetCoreGuiEnabled(Enum.CoreGuiType[name], false)\n\t\tend\n\t\tfor name in pairs(setCores) do\n\t\t\tsetCores[name] = StarterGui:GetCore(name)\n\t\t\tStarterGui:SetCore(name, false)\n\t\tend\n\t\tlocal playergui = LocalPlayer:FindFirstChildOfClass(\"PlayerGui\")\n\t\tif playergui then\n\t\t\tfor _, gui in pairs(playergui:GetChildren()) do\n\t\t\t\tif gui:IsA(\"ScreenGui\") and gui.Enabled then\n\t\t\t\t\tscreenGuis[#screenGuis + 1] = gui\n\t\t\t\t\tgui.Enabled = false\n\t\t\t\tend\n\t\t\tend\n\t\tend\n\n\t\tcameraFieldOfView = Camera.FieldOfView\n\t\tCamera.FieldOfView = 70\n\n\t\tcameraType = Camera.CameraType\n\t\tCamera.CameraType = Enum.CameraType.Custom\n\n\t\tcameraCFrame = Camera.CFrame\n\t\tcameraFocus = Camera.Focus\n\n\t\tmouseIconEnabled = UserInputService.MouseIconEnabled\n\t\tUserInputService.MouseIconEnabled = false\n\n\t\tif FFlagUserExitFreecamBreaksWithShiftlock and CheckMouseLockAvailability() then\n\t\t\tmouseBehavior = Enum.MouseBehavior.Default\n\t\telse\n\t\t\tmouseBehavior = UserInputService.MouseBehavior\n\t\tend\n\t\tUserInputService.MouseBehavior = Enum.MouseBehavior.Default\n\tend\n\n\t-- Restore state\n\tfunction PlayerState.Pop()\n\t\tfor name, isEnabled in pairs(coreGuis) do\n\t\t\tStarterGui:SetCoreGuiEnabled(Enum.CoreGuiType[name], isEnabled)\n\t\tend\n\t\tfor name, isEnabled in pairs(setCores) do\n\t\t\tStarterGui:SetCore(name, isEnabled)\n\t\tend\n\t\tfor _, gui in pairs(screenGuis) do\n\t\t\tif gui.Parent then\n\t\t\t\tgui.Enabled = true\n\t\t\tend\n\t\tend\n\n\t\tCamera.FieldOfView = cameraFieldOfView\n\t\tcameraFieldOfView = nil\n\n\t\tCamera.CameraType = cameraType\n\t\tcameraType = nil\n\n\t\tCamera.CFrame = cameraCFrame\n\t\tcameraCFrame = nil\n\n\t\tCamera.Focus = cameraFocus\n\t\tcameraFocus = nil\n\n\t\tUserInputService.MouseIconEnabled = mouseIconEnabled\n\t\tmouseIconEnabled = nil\n\n\t\tUserInputService.MouseBehavior = mouseBehavior\n\t\tmouseBehavior = nil\n\tend\nend\n\nlocal function StartFreecam()\n\tlocal cameraCFrame = Camera.CFrame\n\tcameraRot = Vector2.new(cameraCFrame:toEulerAnglesYXZ())\n\tcameraPos = cameraCFrame.p\n\tcameraFov = Camera.FieldOfView\n\n\tvelSpring:Reset(Vector3.new())\n\tpanSpring:Reset(Vector2.new())\n\tfovSpring:Reset(0)\n\n\tPlayerState.Push()\n\tRunService:BindToRenderStep(\"Freecam\", Enum.RenderPriority.Camera.Value, StepFreecam)\n\tInput.StartCapture()\nend\n\nlocal function StopFreecam()\n\tInput.StopCapture()\n\tRunService:UnbindFromRenderStep(\"Freecam\")\n\tPlayerState.Pop()\nend\n\n------------------------------------------------------------------------\n\ndo\n\tlocal enabled = false\n\n\tlocal function ToggleFreecam()\n\t\tif enabled then\n\t\t\tStopFreecam()\n\t\telse\n\t\t\tStartFreecam()\n\t\tend\n\t\tenabled = not enabled\n\tend\n\n\tlocal function CheckMacro(macro)\n\t\tfor i = 1, #macro - 1 do\n\t\t\tif not UserInputService:IsKeyDown(macro[i]) then\n\t\t\t\treturn\n\t\t\tend\n\t\tend\n\t\tToggleFreecam()\n\tend\n\n\tlocal function HandleActivationInput(action, state, input)\n\t\tif state == Enum.UserInputState.Begin then\n\t\t\tif input.KeyCode == FREECAM_MACRO_KB[#FREECAM_MACRO_KB] then\n\t\t\t\tCheckMacro(FREECAM_MACRO_KB)\n\t\t\tend\n\t\tend\n\t\treturn Enum.ContextActionResult.Pass\n\tend\n\n\tContextActionService:BindActionAtPriority(\"FreecamToggle\", HandleActivationInput, false, TOGGLE_INPUT_PRIORITY, FREECAM_MACRO_KB[#FREECAM_MACRO_KB])\nend"}},"referenceId":"0005e02f-a356-e1ec-f102-000019a60109","source":"--!nonstrict\n------------------------------------------------------------------------\n-- Freecam\n-- Cinematic free camera for spectating and video production.\n------------------------------------------------------------------------\n\nlocal pi    = math.pi\nlocal abs   = math.abs\nlocal clamp = math.clamp\nlocal exp   = math.exp\nlocal rad   = math.rad\nlocal sign  = math.sign\nlocal sqrt  = math.sqrt\nlocal tan   = math.tan\n\nlocal ContextActionService = game:GetService(\"ContextActionService\")\nlocal Players = game:GetService(\"Players\")\nlocal RunService = game:GetService(\"RunService\")\nlocal StarterGui = game:GetService(\"StarterGui\")\nlocal UserInputService = game:GetService(\"UserInputService\")\nlocal Workspace = game:GetService(\"Workspace\")\nlocal Settings = UserSettings()\nlocal GameSettings = Settings.GameSettings\n\nlocal LocalPlayer = Players.LocalPlayer\nif not LocalPlayer then\n\tPlayers:GetPropertyChangedSignal(\"LocalPlayer\"):Wait()\n\tLocalPlayer = Players.LocalPlayer\nend\n\nlocal Camera = Workspace.CurrentCamera\nWorkspace:GetPropertyChangedSignal(\"CurrentCamera\"):Connect(function()\n\tlocal newCamera = Workspace.CurrentCamera\n\tif newCamera then\n\t\tCamera = newCamera\n\tend\nend)\n\nlocal FFlagUserExitFreecamBreaksWithShiftlock\ndo\n    local success, result = pcall(function()\n        return UserSettings():IsUserFeatureEnabled(\"UserExitFreecamBreaksWithShiftlock\")\n    end)\n    FFlagUserExitFreecamBreaksWithShiftlock = success and result\nend\n\n------------------------------------------------------------------------\n\nlocal TOGGLE_INPUT_PRIORITY = Enum.ContextActionPriority.Low.Value\nlocal INPUT_PRIORITY = Enum.ContextActionPriority.High.Value\nlocal FREECAM_MACRO_KB = {Enum.KeyCode.LeftShift, Enum.KeyCode.P}\n\nlocal NAV_GAIN = Vector3.new(1, 1, 1)*64\nlocal PAN_GAIN = Vector2.new(0.75, 1)*8\nlocal FOV_GAIN = 300\n\nlocal PITCH_LIMIT = rad(90)\n\nlocal VEL_STIFFNESS = 1.5\nlocal PAN_STIFFNESS = 1.0\nlocal FOV_STIFFNESS = 4.0\n\n------------------------------------------------------------------------\n\nlocal Spring = {} do\n\tSpring.__index = Spring\n\n\tfunction Spring.new(freq, pos)\n\t\tlocal self = setmetatable({}, Spring)\n\t\tself.f = freq\n\t\tself.p = pos\n\t\tself.v = pos*0\n\t\treturn self\n\tend\n\n\tfunction Spring:Update(dt, goal)\n\t\tlocal f = self.f*2*pi\n\t\tlocal p0 = self.p\n\t\tlocal v0 = self.v\n\n\t\tlocal offset = goal - p0\n\t\tlocal decay = exp(-f*dt)\n\n\t\tlocal p1 = goal + (v0*dt - offset*(f*dt + 1))*decay\n\t\tlocal v1 = (f*dt*(offset*f - v0) + v0)*decay\n\n\t\tself.p = p1\n\t\tself.v = v1\n\n\t\treturn p1\n\tend\n\n\tfunction Spring:Reset(pos)\n\t\tself.p = pos\n\t\tself.v = pos*0\n\tend\nend\n\n------------------------------------------------------------------------\n\nlocal cameraPos = Vector3.new()\nlocal cameraRot = Vector2.new()\nlocal cameraFov = 0\n\nlocal velSpring = Spring.new(VEL_STIFFNESS, Vector3.new())\nlocal panSpring = Spring.new(PAN_STIFFNESS, Vector2.new())\nlocal fovSpring = Spring.new(FOV_STIFFNESS, 0)\n\n------------------------------------------------------------------------\n\nlocal Input = {} do\n\tlocal thumbstickCurve do\n\t\tlocal K_CURVATURE = 2.0\n\t\tlocal K_DEADZONE = 0.15\n\n\t\tlocal function fCurve(x)\n\t\t\treturn (exp(K_CURVATURE*x) - 1)/(exp(K_CURVATURE) - 1)\n\t\tend\n\n\t\tlocal function fDeadzone(x)\n\t\t\treturn fCurve((x - K_DEADZONE)/(1 - K_DEADZONE))\n\t\tend\n\n\t\tfunction thumbstickCurve(x)\n\t\t\treturn sign(x)*clamp(fDeadzone(abs(x)), 0, 1)\n\t\tend\n\tend\n\n\tlocal gamepad = {\n\t\tButtonX = 0,\n\t\tButtonY = 0,\n\t\tDPadDown = 0,\n\t\tDPadUp = 0,\n\t\tButtonL2 = 0,\n\t\tButtonR2 = 0,\n\t\tThumbstick1 = Vector2.new(),\n\t\tThumbstick2 = Vector2.new(),\n\t}\n\n\tlocal keyboard = {\n\t\tW = 0,\n\t\tA = 0,\n\t\tS = 0,\n\t\tD = 0,\n\t\tE = 0,\n\t\tQ = 0,\n\t\tU = 0,\n\t\tH = 0,\n\t\tJ = 0,\n\t\tK = 0,\n\t\tI = 0,\n\t\tY = 0,\n\t\tUp = 0,\n\t\tDown = 0,\n\t\tLeftShift = 0,\n\t\tRightShift = 0,\n\t}\n\n\tlocal mouse = {\n\t\tDelta = Vector2.new(),\n\t\tMouseWheel = 0,\n\t}\n\n\tlocal NAV_GAMEPAD_SPEED  = Vector3.new(1, 1, 1)\n\tlocal NAV_KEYBOARD_SPEED = Vector3.new(1, 1, 1)\n\tlocal PAN_MOUSE_SPEED    = Vector2.new(1, 1)*(pi/64)\n\tlocal PAN_GAMEPAD_SPEED  = Vector2.new(1, 1)*(pi/8)\n\tlocal FOV_WHEEL_SPEED    = 1.0\n\tlocal FOV_GAMEPAD_SPEED  = 0.25\n\tlocal NAV_ADJ_SPEED      = 0.75\n\tlocal NAV_SHIFT_MUL      = 0.25\n\n\tlocal navSpeed = 1\n\n\tfunction Input.Vel(dt)\n\t\tnavSpeed = clamp(navSpeed + dt*(keyboard.Up - keyboard.Down)*NAV_ADJ_SPEED, 0.01, 4)\n\n\t\tlocal kGamepad = Vector3.new(\n\t\t\tthumbstickCurve(gamepad.Thumbstick1.X),\n\t\t\tthumbstickCurve(gamepad.ButtonR2) - thumbstickCurve(gamepad.ButtonL2),\n\t\t\tthumbstickCurve(-gamepad.Thumbstick1.Y)\n\t\t)*NAV_GAMEPAD_SPEED\n\n\t\tlocal kKeyboard = Vector3.new(\n\t\t\tkeyboard.D - keyboard.A + keyboard.K - keyboard.H,\n\t\t\tkeyboard.E - keyboard.Q + keyboard.I - keyboard.Y,\n\t\t\tkeyboard.S - keyboard.W + keyboard.J - keyboard.U\n\t\t)*NAV_KEYBOARD_SPEED\n\n\t\tlocal shift = UserInputService:IsKeyDown(Enum.KeyCode.LeftShift) or UserInputService:IsKeyDown(Enum.KeyCode.RightShift)\n\n\t\treturn (kGamepad + kKeyboard)*(navSpeed*(shift and NAV_SHIFT_MUL or 1))\n\tend\n\n\tfunction Input.Pan(dt)\n\t\tlocal kGamepad = Vector2.new(\n\t\t\tthumbstickCurve(gamepad.Thumbstick2.Y),\n\t\t\tthumbstickCurve(-gamepad.Thumbstick2.X)\n\t\t)*PAN_GAMEPAD_SPEED\n\t\tlocal kMouse = mouse.Delta*PAN_MOUSE_SPEED\n\t\tmouse.Delta = Vector2.new()\n\t\treturn kGamepad + kMouse\n\tend\n\n\tfunction Input.Fov(dt)\n\t\tlocal kGamepad = (gamepad.ButtonX - gamepad.ButtonY)*FOV_GAMEPAD_SPEED\n\t\tlocal kMouse = mouse.MouseWheel*FOV_WHEEL_SPEED\n\t\tmouse.MouseWheel = 0\n\t\treturn kGamepad + kMouse\n\tend\n\n\tdo\n\t\tlocal function Keypress(action, state, input)\n\t\t\tkeyboard[input.KeyCode.Name] = state == Enum.UserInputState.Begin and 1 or 0\n\t\t\treturn Enum.ContextActionResult.Sink\n\t\tend\n\n\t\tlocal function GpButton(action, state, input)\n\t\t\tgamepad[input.KeyCode.Name] = state == Enum.UserInputState.Begin and 1 or 0\n\t\t\treturn Enum.ContextActionResult.Sink\n\t\tend\n\n\t\tlocal function MousePan(action, state, input)\n\t\t\tlocal delta = input.Delta\n\t\t\tmouse.Delta = Vector2.new(-delta.y, -delta.x)\n\t\t\treturn Enum.ContextActionResult.Sink\n\t\tend\n\n\t\tlocal function Thumb(action, state, input)\n\t\t\tgamepad[input.KeyCode.Name] = input.Position\n\t\t\treturn Enum.ContextActionResult.Sink\n\t\tend\n\n\t\tlocal function Trigger(action, state, input)\n\t\t\tgamepad[input.KeyCode.Name] = input.Position.z\n\t\t\treturn Enum.ContextActionResult.Sink\n\t\tend\n\n\t\tlocal function MouseWheel(action, state, input)\n\t\t\tmouse[input.UserInputType.Name] = -input.Position.z\n\t\t\treturn Enum.ContextActionResult.Sink\n\t\tend\n\n\t\tlocal function Zero(t)\n\t\t\tfor k, v in pairs(t) do\n\t\t\t\tt[k] = v*0\n\t\t\tend\n\t\tend\n\n\t\tfunction Input.StartCapture()\n\t\t\tContextActionService:BindActionAtPriority(\"FreecamKeyboard\", Keypress, false, INPUT_PRIORITY,\n\t\t\t\tEnum.KeyCode.W, Enum.KeyCode.U,\n\t\t\t\tEnum.KeyCode.A, Enum.KeyCode.H,\n\t\t\t\tEnum.KeyCode.S, Enum.KeyCode.J,\n\t\t\t\tEnum.KeyCode.D, Enum.KeyCode.K,\n\t\t\t\tEnum.KeyCode.E, Enum.KeyCode.I,\n\t\t\t\tEnum.KeyCode.Q, Enum.KeyCode.Y,\n\t\t\t\tEnum.KeyCode.Up, Enum.KeyCode.Down\n\t\t\t)\n\t\t\tContextActionService:BindActionAtPriority(\"FreecamMousePan\",          MousePan,   false, INPUT_PRIORITY, Enum.UserInputType.MouseMovement)\n\t\t\tContextActionService:BindActionAtPriority(\"FreecamMouseWheel\",        MouseWheel, false, INPUT_PRIORITY, Enum.UserInputType.MouseWheel)\n\t\t\tContextActionService:BindActionAtPriority(\"FreecamGamepadButton\",     GpButton,   false, INPUT_PRIORITY, Enum.KeyCode.ButtonX, Enum.KeyCode.ButtonY)\n\t\t\tContextActionService:BindActionAtPriority(\"FreecamGamepadTrigger\",    Trigger,    false, INPUT_PRIORITY, Enum.KeyCode.ButtonR2, Enum.KeyCode.ButtonL2)\n\t\t\tContextActionService:BindActionAtPriority(\"FreecamGamepadThumbstick\", Thumb,      false, INPUT_PRIORITY, Enum.KeyCode.Thumbstick1, Enum.KeyCode.Thumbstick2)\n\t\tend\n\n\t\tfunction Input.StopCapture()\n\t\t\tnavSpeed = 1\n\t\t\tZero(gamepad)\n\t\t\tZero(keyboard)\n\t\t\tZero(mouse)\n\t\t\tContextActionService:UnbindAction(\"FreecamKeyboard\")\n\t\t\tContextActionService:UnbindAction(\"FreecamMousePan\")\n\t\t\tContextActionService:UnbindAction(\"FreecamMouseWheel\")\n\t\t\tContextActionService:UnbindAction(\"FreecamGamepadButton\")\n\t\t\tContextActionService:UnbindAction(\"FreecamGamepadTrigger\")\n\t\t\tContextActionService:UnbindAction(\"FreecamGamepadThumbstick\")\n\t\tend\n\tend\nend\n\n------------------------------------------------------------------------\n\nlocal function StepFreecam(dt)\n\tlocal vel = velSpring:Update(dt, Input.Vel(dt))\n\tlocal pan = panSpring:Update(dt, Input.Pan(dt))\n\tlocal fov = fovSpring:Update(dt, Input.Fov(dt))\n\n\tlocal zoomFactor = sqrt(tan(rad(70/2))/tan(rad(cameraFov/2)))\n\n\tcameraFov = clamp(cameraFov + fov*FOV_GAIN*(dt/zoomFactor), 1, 120)\n\tcameraRot = cameraRot + pan*PAN_GAIN*(dt/zoomFactor)\n\tcameraRot = Vector2.new(clamp(cameraRot.x, -PITCH_LIMIT, PITCH_LIMIT), cameraRot.y%(2*pi))\n\n\tlocal cameraCFrame = CFrame.new(cameraPos)*CFrame.fromOrientation(cameraRot.x, cameraRot.y, 0)*CFrame.new(vel*NAV_GAIN*dt)\n\tcameraPos = cameraCFrame.p\n\n\tCamera.CFrame = cameraCFrame\n\tCamera.Focus = cameraCFrame \n\tCamera.FieldOfView = cameraFov\nend\n\nlocal function CheckMouseLockAvailability()\n\tlocal devAllowsMouseLock = Players.LocalPlayer.DevEnableMouseLock\n\tlocal devMovementModeIsScriptable = Players.LocalPlayer.DevComputerMovementMode == Enum.DevComputerMovementMode.Scriptable\n\tlocal userHasMouseLockModeEnabled = GameSettings.ControlMode == Enum.ControlMode.MouseLockSwitch\n\tlocal userHasClickToMoveEnabled =  GameSettings.ComputerMovementMode == Enum.ComputerMovementMode.ClickToMove\n\tlocal MouseLockAvailable = devAllowsMouseLock and userHasMouseLockModeEnabled and not userHasClickToMoveEnabled and not devMovementModeIsScriptable\n\n\treturn MouseLockAvailable\nend\n\n------------------------------------------------------------------------\n\nlocal PlayerState = {} do\n\tlocal mouseBehavior\n\tlocal mouseIconEnabled\n\tlocal cameraType\n\tlocal cameraFocus\n\tlocal cameraCFrame\n\tlocal cameraFieldOfView\n\tlocal screenGuis = {}\n\tlocal coreGuis = {\n\t\tBackpack = true,\n\t\tChat = true,\n\t\tHealth = true,\n\t\tPlayerList = true,\n\t}\n\tlocal setCores = {\n\t\tBadgesNotificationsActive = true,\n\t\tPointsNotificationsActive = true,\n\t}\n\n\t-- Save state and set up for freecam\n\tfunction PlayerState.Push()\n\t\tfor name in pairs(coreGuis) do\n\t\t\tcoreGuis[name] = StarterGui:GetCoreGuiEnabled(Enum.CoreGuiType[name])\n\t\t\tStarterGui:SetCoreGuiEnabled(Enum.CoreGuiType[name], false)\n\t\tend\n\t\tfor name in pairs(setCores) do\n\t\t\tsetCores[name] = StarterGui:GetCore(name)\n\t\t\tStarterGui:SetCore(name, false)\n\t\tend\n\t\tlocal playergui = LocalPlayer:FindFirstChildOfClass(\"PlayerGui\")\n\t\tif playergui then\n\t\t\tfor _, gui in pairs(playergui:GetChildren()) do\n\t\t\t\tif gui:IsA(\"ScreenGui\") and gui.Enabled then\n\t\t\t\t\tscreenGuis[#screenGuis + 1] = gui\n\t\t\t\t\tgui.Enabled = false\n\t\t\t\tend\n\t\t\tend\n\t\tend\n\n\t\tcameraFieldOfView = Camera.FieldOfView\n\t\tCamera.FieldOfView = 70\n\n\t\tcameraType = Camera.CameraType\n\t\tCamera.CameraType = Enum.CameraType.Custom\n\n\t\tcameraCFrame = Camera.CFrame\n\t\tcameraFocus = Camera.Focus\n\n\t\tmouseIconEnabled = UserInputService.MouseIconEnabled\n\t\tUserInputService.MouseIconEnabled = false\n\n\t\tif FFlagUserExitFreecamBreaksWithShiftlock and CheckMouseLockAvailability() then\n\t\t\tmouseBehavior = Enum.MouseBehavior.Default\n\t\telse\n\t\t\tmouseBehavior = UserInputService.MouseBehavior\n\t\tend\n\t\tUserInputService.MouseBehavior = Enum.MouseBehavior.Default\n\tend\n\n\t-- Restore state\n\tfunction PlayerState.Pop()\n\t\tfor name, isEnabled in pairs(coreGuis) do\n\t\t\tStarterGui:SetCoreGuiEnabled(Enum.CoreGuiType[name], isEnabled)\n\t\tend\n\t\tfor name, isEnabled in pairs(setCores) do\n\t\t\tStarterGui:SetCore(name, isEnabled)\n\t\tend\n\t\tfor _, gui in pairs(screenGuis) do\n\t\t\tif gui.Parent then\n\t\t\t\tgui.Enabled = true\n\t\t\tend\n\t\tend\n\n\t\tCamera.FieldOfView = cameraFieldOfView\n\t\tcameraFieldOfView = nil\n\n\t\tCamera.CameraType = cameraType\n\t\tcameraType = nil\n\n\t\tCamera.CFrame = cameraCFrame\n\t\tcameraCFrame = nil\n\n\t\tCamera.Focus = cameraFocus\n\t\tcameraFocus = nil\n\n\t\tUserInputService.MouseIconEnabled = mouseIconEnabled\n\t\tmouseIconEnabled = nil\n\n\t\tUserInputService.MouseBehavior = mouseBehavior\n\t\tmouseBehavior = nil\n\tend\nend\n\nlocal function StartFreecam()\n\tlocal cameraCFrame = Camera.CFrame\n\tcameraRot = Vector2.new(cameraCFrame:toEulerAnglesYXZ())\n\tcameraPos = cameraCFrame.p\n\tcameraFov = Camera.FieldOfView\n\n\tvelSpring:Reset(Vector3.new())\n\tpanSpring:Reset(Vector2.new())\n\tfovSpring:Reset(0)\n\n\tPlayerState.Push()\n\tRunService:BindToRenderStep(\"Freecam\", Enum.RenderPriority.Camera.Value, StepFreecam)\n\tInput.StartCapture()\nend\n\nlocal function StopFreecam()\n\tInput.StopCapture()\n\tRunService:UnbindFromRenderStep(\"Freecam\")\n\tPlayerState.Pop()\nend\n\n------------------------------------------------------------------------\n\ndo\n\tlocal enabled = false\n\n\tlocal function ToggleFreecam()\n\t\tif enabled then\n\t\t\tStopFreecam()\n\t\telse\n\t\t\tStartFreecam()\n\t\tend\n\t\tenabled = not enabled\n\tend\n\n\tlocal function CheckMacro(macro)\n\t\tfor i = 1, #macro - 1 do\n\t\t\tif not UserInputService:IsKeyDown(macro[i]) then\n\t\t\t\treturn\n\t\t\tend\n\t\tend\n\t\tToggleFreecam()\n\tend\n\n\tlocal function HandleActivationInput(action, state, input)\n\t\tif state == Enum.UserInputState.Begin then\n\t\t\tif input.KeyCode == FREECAM_MACRO_KB[#FREECAM_MACRO_KB] then\n\t\t\t\tCheckMacro(FREECAM_MACRO_KB)\n\t\t\tend\n\t\tend\n\t\treturn Enum.ContextActionResult.Pass\n\tend\n\n\tContextActionService:BindActionAtPriority(\"FreecamToggle\", HandleActivationInput, false, TOGGLE_INPUT_PRIORITY, FREECAM_MACRO_KB[#FREECAM_MACRO_KB])\nend"},{"className":"ScreenGui","name":"Countdown","properties":{"AutoLocalize":{"type":"bool","value":true},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"ClipToDeviceSafeArea":{"type":"bool","value":true},"DisplayOrder":{"type":"int","value":0},"Enabled":{"type":"bool","value":true},"ResetOnSpawn":{"type":"bool","value":true},"RootLocalizationTable":{"type":"nil"},"SafeAreaCompatibility":{"type":"Enum","value":{"enumType":"SafeAreaCompatibility","value":"FullscreenExtension"}},"ScreenInsets":{"type":"Enum","value":{"enumType":"ScreenInsets","value":"CoreUISafeInsets"}},"SelectionBehaviorDown":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorLeft":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorRight":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorUp":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionGroup":{"type":"bool","value":false},"ZIndexBehavior":{"type":"Enum","value":{"enumType":"ZIndexBehavior","value":"Sibling"}}},"referenceId":"0005e030-1afc-411f-9943-00003c4d2752"},{"className":"Frame","name":"TimerFrame","properties":{"Active":{"type":"bool","value":false},"AnchorPoint":{"type":"Vector2","value":{"x":0.5,"y":0.5}},"AutoLocalize":{"type":"bool","value":true},"AutomaticSize":{"type":"Enum","value":{"enumType":"AutomaticSize","value":"None"}},"BackgroundColor3":{"type":"Color3","value":{"b":1,"g":1,"r":1}},"BackgroundTransparency":{"type":"float","value":1},"BorderColor3":{"type":"Color3","value":{"b":0,"g":0,"r":0}},"BorderMode":{"type":"Enum","value":{"enumType":"BorderMode","value":"Outline"}},"BorderSizePixel":{"type":"int","value":0},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"ClipsDescendants":{"type":"bool","value":false},"Draggable":{"type":"bool","value":false},"GuiState":{"type":"Enum","value":{"enumType":"GuiState","value":"Idle"}},"Interactable":{"type":"bool","value":true},"LayoutOrder":{"type":"int","value":0},"NextSelectionDown":{"type":"nil"},"NextSelectionLeft":{"type":"nil"},"NextSelectionRight":{"type":"nil"},"NextSelectionUp":{"type":"nil"},"Position":{"type":"UDim2","value":{"x":{"offset":0,"scale":0.5},"y":{"offset":0,"scale":0.5}}},"RootLocalizationTable":{"type":"nil"},"Rotation":{"type":"float","value":0},"Selectable":{"type":"bool","value":false},"SelectionBehaviorDown":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorLeft":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorRight":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorUp":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionGroup":{"type":"bool","value":false},"SelectionImageObject":{"type":"nil"},"SelectionOrder":{"type":"int","value":0},"Size":{"type":"UDim2","value":{"x":{"offset":0,"scale":0.30000001192092896},"y":{"offset":0,"scale":0.30000001192092896}}},"SizeConstraint":{"type":"Enum","value":{"enumType":"SizeConstraint","value":"RelativeXY"}},"Style":{"type":"Enum","value":{"enumType":"FrameStyle","value":"Custom"}},"Visible":{"type":"bool","value":true},"ZIndex":{"type":"int","value":1}},"referenceId":"0005e031-8cd5-7c2d-7699-0000407f3461"},{"className":"LocalScript","name":"SpawnTickDisplay","properties":{"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"Disabled":{"type":"bool","value":false},"LinkedSource":{"type":"Enum","value":{"enumType":"ContentId","value":""}},"RunContext":{"type":"Enum","value":{"enumType":"RunContext","value":"Legacy"}},"Source":{"type":"ProtectedString","value":"-- Reference the ReplicatedStorage\nlocal ReplicatedStorage = game:GetService(\"ReplicatedStorage\")\n\n-- Reference the Data object in ReplicatedStorage\nlocal data = ReplicatedStorage:WaitForChild(\"Data\")\n\n-- Reference the GameStatus value in Data\nlocal gameStatusValue = data:WaitForChild(\"GameStatus\")\n\nlocal ticksToSpawn = data:WaitForChild(\"TicksToSpawn\")\n\n\n\n-- Reference the tick countdown text label (replace \"TextLabel\" with the actual name of your GUI element)\nlocal countdownLabel = script.Parent:WaitForChild(\"TextLabel\")\n\nlocal titleLabel = script.Parent:WaitForChild(\"TitleLabel\")\n\n-- Function to update the countdown label text\nlocal function updateCountdownText()\n\tcountdownLabel.Text = ticksToSpawn.Value - 1\nend\n\n-- Function to update the countdown based on changes in GameStatus\nlocal function updateCountdown()\n\twhile wait() do\n\t\tif gameStatusValue.Value == 1 then\n\t\t\ttitleLabel.Visible = true\n\t\t\tupdateCountdownText()\n\t\telseif gameStatusValue.Value == 2 then\n\t\t\tcountdownLabel:Destroy()\n\t\t\ttitleLabel:Destroy()\n\t\t\tbreak\n\t\tend\n\t\t--wait(1) -- Update the countdown every second\n\tend\nend\n\n-- Start the countdown when the LocalScript is run\nupdateCountdown()\n\n-- Connect the LocalScript to changes in ticksToSpawn\ndata.GameStatus:GetPropertyChangedSignal(\"Value\"):Connect(function()\n\tif gameStatusValue.Value == 1 then\n\t\tupdateCountdown()\n\tend\nend)\n"}},"referenceId":"0005e032-d189-5891-d605-00001f97b674","source":"-- Reference the ReplicatedStorage\nlocal ReplicatedStorage = game:GetService(\"ReplicatedStorage\")\n\n-- Reference the Data object in ReplicatedStorage\nlocal data = ReplicatedStorage:WaitForChild(\"Data\")\n\n-- Reference the GameStatus value in Data\nlocal gameStatusValue = data:WaitForChild(\"GameStatus\")\n\nlocal ticksToSpawn = data:WaitForChild(\"TicksToSpawn\")\n\n\n\n-- Reference the tick countdown text label (replace \"TextLabel\" with the actual name of your GUI element)\nlocal countdownLabel = script.Parent:WaitForChild(\"TextLabel\")\n\nlocal titleLabel = script.Parent:WaitForChild(\"TitleLabel\")\n\n-- Function to update the countdown label text\nlocal function updateCountdownText()\n\tcountdownLabel.Text = ticksToSpawn.Value - 1\nend\n\n-- Function to update the countdown based on changes in GameStatus\nlocal function updateCountdown()\n\twhile wait() do\n\t\tif gameStatusValue.Value == 1 then\n\t\t\ttitleLabel.Visible = true\n\t\t\tupdateCountdownText()\n\t\telseif gameStatusValue.Value == 2 then\n\t\t\tcountdownLabel:Destroy()\n\t\t\ttitleLabel:Destroy()\n\t\t\tbreak\n\t\tend\n\t\t--wait(1) -- Update the countdown every second\n\tend\nend\n\n-- Start the countdown when the LocalScript is run\nupdateCountdown()\n\n-- Connect the LocalScript to changes in ticksToSpawn\ndata.GameStatus:GetPropertyChangedSignal(\"Value\"):Connect(function()\n\tif gameStatusValue.Value == 1 then\n\t\tupdateCountdown()\n\tend\nend)\n"},{"className":"TextLabel","name":"TextLabel","properties":{"Active":{"type":"bool","value":false},"AnchorPoint":{"type":"Vector2","value":{"x":0,"y":0}},"AutoLocalize":{"type":"bool","value":true},"AutomaticSize":{"type":"Enum","value":{"enumType":"AutomaticSize","value":"None"}},"BackgroundColor3":{"type":"Color3","value":{"b":1,"g":1,"r":1}},"BackgroundTransparency":{"type":"float","value":1},"BorderColor3":{"type":"Color3","value":{"b":0,"g":0,"r":0}},"BorderMode":{"type":"Enum","value":{"enumType":"BorderMode","value":"Outline"}},"BorderSizePixel":{"type":"int","value":0},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"ClipsDescendants":{"type":"bool","value":false},"Draggable":{"type":"bool","value":false},"FontFace":{"type":"Enum","value":{"enumType":"Font","value":"json, Weight = Bold, Style = Normal }"}},"GuiState":{"type":"Enum","value":{"enumType":"GuiState","value":"Idle"}},"Interactable":{"type":"bool","value":true},"LayoutOrder":{"type":"int","value":0},"LineHeight":{"type":"float","value":1},"MaxVisibleGraphemes":{"type":"int","value":-1},"NextSelectionDown":{"type":"nil"},"NextSelectionLeft":{"type":"nil"},"NextSelectionRight":{"type":"nil"},"NextSelectionUp":{"type":"nil"},"OpenTypeFeatures":{"type":"string","value":""},"OpenTypeFeaturesError":{"type":"string","value":""},"Position":{"type":"UDim2","value":{"x":{"offset":0,"scale":0},"y":{"offset":0,"scale":0}}},"RichText":{"type":"bool","value":false},"RootLocalizationTable":{"type":"nil"},"Rotation":{"type":"float","value":0},"Selectable":{"type":"bool","value":false},"SelectionBehaviorDown":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorLeft":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorRight":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorUp":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionGroup":{"type":"bool","value":false},"SelectionImageObject":{"type":"nil"},"SelectionOrder":{"type":"int","value":0},"Size":{"type":"UDim2","value":{"x":{"offset":0,"scale":1},"y":{"offset":0,"scale":1}}},"SizeConstraint":{"type":"Enum","value":{"enumType":"SizeConstraint","value":"RelativeXY"}},"Text":{"type":"string","value":""},"TextColor3":{"type":"Color3","value":{"b":1,"g":1,"r":1}},"TextDirection":{"type":"Enum","value":{"enumType":"TextDirection","value":"Auto"}},"TextScaled":{"type":"bool","value":true},"TextSize":{"type":"float","value":14},"TextStrokeColor3":{"type":"Color3","value":{"b":0,"g":0,"r":0}},"TextStrokeTransparency":{"type":"float","value":1},"TextTransparency":{"type":"float","value":0},"TextTruncate":{"type":"Enum","value":{"enumType":"TextTruncate","value":"None"}},"TextWrapped":{"type":"bool","value":true},"TextXAlignment":{"type":"Enum","value":{"enumType":"TextXAlignment","value":"Center"}},"TextYAlignment":{"type":"Enum","value":{"enumType":"TextYAlignment","value":"Center"}},"Visible":{"type":"bool","value":true},"ZIndex":{"type":"int","value":1}},"referenceId":"0005e033-13dc-c6d1-1b3b-000011e9ac2d"},{"className":"TextLabel","name":"TitleLabel","properties":{"Active":{"type":"bool","value":false},"AnchorPoint":{"type":"Vector2","value":{"x":0,"y":0}},"AutoLocalize":{"type":"bool","value":true},"AutomaticSize":{"type":"Enum","value":{"enumType":"AutomaticSize","value":"None"}},"BackgroundColor3":{"type":"Color3","value":{"b":1,"g":1,"r":1}},"BackgroundTransparency":{"type":"float","value":1},"BorderColor3":{"type":"Color3","value":{"b":0,"g":0,"r":0}},"BorderMode":{"type":"Enum","value":{"enumType":"BorderMode","value":"Outline"}},"BorderSizePixel":{"type":"int","value":0},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"ClipsDescendants":{"type":"bool","value":false},"Draggable":{"type":"bool","value":false},"FontFace":{"type":"Enum","value":{"enumType":"Font","value":"json, Weight = Bold, Style = Normal }"}},"GuiState":{"type":"Enum","value":{"enumType":"GuiState","value":"Idle"}},"Interactable":{"type":"bool","value":true},"LayoutOrder":{"type":"int","value":0},"LineHeight":{"type":"float","value":1},"MaxVisibleGraphemes":{"type":"int","value":-1},"NextSelectionDown":{"type":"nil"},"NextSelectionLeft":{"type":"nil"},"NextSelectionRight":{"type":"nil"},"NextSelectionUp":{"type":"nil"},"OpenTypeFeatures":{"type":"string","value":""},"OpenTypeFeaturesError":{"type":"string","value":""},"Position":{"type":"UDim2","value":{"x":{"offset":0,"scale":0},"y":{"offset":0,"scale":-1}}},"RichText":{"type":"bool","value":false},"RootLocalizationTable":{"type":"nil"},"Rotation":{"type":"float","value":0},"Selectable":{"type":"bool","value":false},"SelectionBehaviorDown":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorLeft":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorRight":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorUp":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionGroup":{"type":"bool","value":false},"SelectionImageObject":{"type":"nil"},"SelectionOrder":{"type":"int","value":0},"Size":{"type":"UDim2","value":{"x":{"offset":0,"scale":1},"y":{"offset":0,"scale":1}}},"SizeConstraint":{"type":"Enum","value":{"enumType":"SizeConstraint","value":"RelativeXY"}},"Text":{"type":"string","value":"Click to spawn"},"TextColor3":{"type":"Color3","value":{"b":1,"g":1,"r":1}},"TextDirection":{"type":"Enum","value":{"enumType":"TextDirection","value":"Auto"}},"TextScaled":{"type":"bool","value":true},"TextSize":{"type":"float","value":14},"TextStrokeColor3":{"type":"Color3","value":{"b":0,"g":0,"r":0}},"TextStrokeTransparency":{"type":"float","value":1},"TextTransparency":{"type":"float","value":0},"TextTruncate":{"type":"Enum","value":{"enumType":"TextTruncate","value":"None"}},"TextWrapped":{"type":"bool","value":true},"TextXAlignment":{"type":"Enum","value":{"enumType":"TextXAlignment","value":"Center"}},"TextYAlignment":{"type":"Enum","value":{"enumType":"TextYAlignment","value":"Bottom"}},"Visible":{"type":"bool","value":false},"ZIndex":{"type":"int","value":1}},"referenceId":"0005e034-26a3-66c2-b63a-0000491a2fbd"},{"className":"ScreenGui","name":"Black","properties":{"AutoLocalize":{"type":"bool","value":true},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"ClipToDeviceSafeArea":{"type":"bool","value":false},"DisplayOrder":{"type":"int","value":10},"Enabled":{"type":"bool","value":true},"ResetOnSpawn":{"type":"bool","value":true},"RootLocalizationTable":{"type":"nil"},"SafeAreaCompatibility":{"type":"Enum","value":{"enumType":"SafeAreaCompatibility","value":"FullscreenExtension"}},"ScreenInsets":{"type":"Enum","value":{"enumType":"ScreenInsets","value":"CoreUISafeInsets"}},"SelectionBehaviorDown":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorLeft":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorRight":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorUp":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionGroup":{"type":"bool","value":false},"ZIndexBehavior":{"type":"Enum","value":{"enumType":"ZIndexBehavior","value":"Sibling"}}},"referenceId":"0005e035-b97c-1344-a89d-00000d98a580"},{"className":"Frame","name":"Frame","properties":{"Active":{"type":"bool","value":false},"AnchorPoint":{"type":"Vector2","value":{"x":0.5,"y":0.5}},"AutoLocalize":{"type":"bool","value":true},"AutomaticSize":{"type":"Enum","value":{"enumType":"AutomaticSize","value":"None"}},"BackgroundColor3":{"type":"Color3","value":{"b":0,"g":0,"r":0}},"BackgroundTransparency":{"type":"float","value":1},"BorderColor3":{"type":"Color3","value":{"b":0,"g":0,"r":0}},"BorderMode":{"type":"Enum","value":{"enumType":"BorderMode","value":"Outline"}},"BorderSizePixel":{"type":"int","value":0},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"ClipsDescendants":{"type":"bool","value":false},"Draggable":{"type":"bool","value":false},"GuiState":{"type":"Enum","value":{"enumType":"GuiState","value":"Idle"}},"Interactable":{"type":"bool","value":true},"LayoutOrder":{"type":"int","value":0},"NextSelectionDown":{"type":"nil"},"NextSelectionLeft":{"type":"nil"},"NextSelectionRight":{"type":"nil"},"NextSelectionUp":{"type":"nil"},"Position":{"type":"UDim2","value":{"x":{"offset":0,"scale":0},"y":{"offset":0,"scale":0}}},"RootLocalizationTable":{"type":"nil"},"Rotation":{"type":"float","value":0},"Selectable":{"type":"bool","value":false},"SelectionBehaviorDown":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorLeft":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorRight":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorUp":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionGroup":{"type":"bool","value":false},"SelectionImageObject":{"type":"nil"},"SelectionOrder":{"type":"int","value":0},"Size":{"type":"UDim2","value":{"x":{"offset":0,"scale":2},"y":{"offset":0,"scale":2}}},"SizeConstraint":{"type":"Enum","value":{"enumType":"SizeConstraint","value":"RelativeXY"}},"Style":{"type":"Enum","value":{"enumType":"FrameStyle","value":"Custom"}},"Visible":{"type":"bool","value":true},"ZIndex":{"type":"int","value":1}},"referenceId":"0005e036-33d5-c43a-f3e3-00006830655f"},{"className":"TextLabel","name":"TeleportText","properties":{"Active":{"type":"bool","value":false},"AnchorPoint":{"type":"Vector2","value":{"x":0.5,"y":1}},"AutoLocalize":{"type":"bool","value":true},"AutomaticSize":{"type":"Enum","value":{"enumType":"AutomaticSize","value":"None"}},"BackgroundColor3":{"type":"Color3","value":{"b":1,"g":1,"r":1}},"BackgroundTransparency":{"type":"float","value":1},"BorderColor3":{"type":"Color3","value":{"b":0,"g":0,"r":0}},"BorderMode":{"type":"Enum","value":{"enumType":"BorderMode","value":"Outline"}},"BorderSizePixel":{"type":"int","value":0},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"ClipsDescendants":{"type":"bool","value":false},"Draggable":{"type":"bool","value":false},"FontFace":{"type":"Enum","value":{"enumType":"Font","value":"json, Weight = Regular, Style = Normal }"}},"GuiState":{"type":"Enum","value":{"enumType":"GuiState","value":"Idle"}},"Interactable":{"type":"bool","value":true},"LayoutOrder":{"type":"int","value":0},"LineHeight":{"type":"float","value":1},"MaxVisibleGraphemes":{"type":"int","value":-1},"NextSelectionDown":{"type":"nil"},"NextSelectionLeft":{"type":"nil"},"NextSelectionRight":{"type":"nil"},"NextSelectionUp":{"type":"nil"},"OpenTypeFeatures":{"type":"string","value":""},"OpenTypeFeaturesError":{"type":"string","value":""},"Position":{"type":"UDim2","value":{"x":{"offset":0,"scale":0.5},"y":{"offset":0,"scale":0.5}}},"RichText":{"type":"bool","value":false},"RootLocalizationTable":{"type":"nil"},"Rotation":{"type":"float","value":0},"Selectable":{"type":"bool","value":false},"SelectionBehaviorDown":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorLeft":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorRight":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorUp":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionGroup":{"type":"bool","value":false},"SelectionImageObject":{"type":"nil"},"SelectionOrder":{"type":"int","value":0},"Size":{"type":"UDim2","value":{"x":{"offset":0,"scale":0.6000000238418579},"y":{"offset":0,"scale":0.30000001192092896}}},"SizeConstraint":{"type":"Enum","value":{"enumType":"SizeConstraint","value":"RelativeXY"}},"Text":{"type":"string","value":"Teleporting..."},"TextColor3":{"type":"Color3","value":{"b":1,"g":1,"r":1}},"TextDirection":{"type":"Enum","value":{"enumType":"TextDirection","value":"Auto"}},"TextScaled":{"type":"bool","value":false},"TextSize":{"type":"float","value":30},"TextStrokeColor3":{"type":"Color3","value":{"b":1,"g":1,"r":1}},"TextStrokeTransparency":{"type":"float","value":1},"TextTransparency":{"type":"float","value":1},"TextTruncate":{"type":"Enum","value":{"enumType":"TextTruncate","value":"None"}},"TextWrapped":{"type":"bool","value":true},"TextXAlignment":{"type":"Enum","value":{"enumType":"TextXAlignment","value":"Center"}},"TextYAlignment":{"type":"Enum","value":{"enumType":"TextYAlignment","value":"Bottom"}},"Visible":{"type":"bool","value":true},"ZIndex":{"type":"int","value":1}},"referenceId":"0005e037-e892-98f0-4cba-000006f8d30f"},{"className":"ScreenGui","name":"WinScreen","properties":{"AutoLocalize":{"type":"bool","value":true},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"ClipToDeviceSafeArea":{"type":"bool","value":false},"DisplayOrder":{"type":"int","value":0},"Enabled":{"type":"bool","value":true},"ResetOnSpawn":{"type":"bool","value":true},"RootLocalizationTable":{"type":"nil"},"SafeAreaCompatibility":{"type":"Enum","value":{"enumType":"SafeAreaCompatibility","value":"FullscreenExtension"}},"ScreenInsets":{"type":"Enum","value":{"enumType":"ScreenInsets","value":"DeviceSafeInsets"}},"SelectionBehaviorDown":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorLeft":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorRight":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorUp":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionGroup":{"type":"bool","value":false},"ZIndexBehavior":{"type":"Enum","value":{"enumType":"ZIndexBehavior","value":"Sibling"}}},"referenceId":"0005e038-6123-8199-952c-000050f52357"},{"className":"LocalScript","name":"ButtonHandler","properties":{"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"Disabled":{"type":"bool","value":false},"LinkedSource":{"type":"Enum","value":{"enumType":"ContentId","value":""}},"RunContext":{"type":"Enum","value":{"enumType":"RunContext","value":"Legacy"}},"Source":{"type":"ProtectedString","value":"local ExitGameScreen = script.Parent\n\n-- exit confirmation window and the exit game button\nlocal Window = ExitGameScreen:WaitForChild(\"Window\")\n--local ExitButton = ExitGameScreen:WaitForChild(\"ExitButton\")\n\n-- prompt buttons to confirm or deny teleport\n--local Confirm = Window:WaitForChild(\"Confirm\")\n--local Deny = Window:WaitForChild(\"Deny\")\nlocal CloseWindow = Window:WaitForChild(\"CloseWindow\")\nlocal closeWindowButton = CloseWindow:WaitForChild(\"ImageButton\")\n\n\ncloseWindowButton.MouseButton1Click:Connect(function()\n\t--if game.Players.LocalPlayer.Character.Humanoid.Health == 0 then\n\t--\tprint(\"attempt to respawn\")\n\t--\tgame.ReplicatedStorage.Remotes.RespawnEvent:FireServer()\n\t--end\n\tWindow.Visible = false\n\tscript.Parent.ConfettiFrame.Confetti.Enabled = false\nend)\n\n\ngame.ReplicatedStorage.Remotes.WinEvent.OnClientEvent:Connect(function(winningNationName)\n\tscript.Parent.ConfettiFrame.Confetti.Enabled = true\n\tscript.Parent.ConfettiFrame.Visible = false\n\tscript.Parent.ConfettiFrame.Sound:Play()\n\tWindow.TextLabel.Text = winningNationName .. \" has won!\"\n\tWindow.Visible = true\nend)"}},"referenceId":"0005e039-3c0a-457c-44b3-000023e8c26e","source":"local ExitGameScreen = script.Parent\n\n-- exit confirmation window and the exit game button\nlocal Window = ExitGameScreen:WaitForChild(\"Window\")\n--local ExitButton = ExitGameScreen:WaitForChild(\"ExitButton\")\n\n-- prompt buttons to confirm or deny teleport\n--local Confirm = Window:WaitForChild(\"Confirm\")\n--local Deny = Window:WaitForChild(\"Deny\")\nlocal CloseWindow = Window:WaitForChild(\"CloseWindow\")\nlocal closeWindowButton = CloseWindow:WaitForChild(\"ImageButton\")\n\n\ncloseWindowButton.MouseButton1Click:Connect(function()\n\t--if game.Players.LocalPlayer.Character.Humanoid.Health == 0 then\n\t--\tprint(\"attempt to respawn\")\n\t--\tgame.ReplicatedStorage.Remotes.RespawnEvent:FireServer()\n\t--end\n\tWindow.Visible = false\n\tscript.Parent.ConfettiFrame.Confetti.Enabled = false\nend)\n\n\ngame.ReplicatedStorage.Remotes.WinEvent.OnClientEvent:Connect(function(winningNationName)\n\tscript.Parent.ConfettiFrame.Confetti.Enabled = true\n\tscript.Parent.ConfettiFrame.Visible = false\n\tscript.Parent.ConfettiFrame.Sound:Play()\n\tWindow.TextLabel.Text = winningNationName .. \" has won!\"\n\tWindow.Visible = true\nend)"},{"className":"Frame","name":"Window","properties":{"Active":{"type":"bool","value":false},"AnchorPoint":{"type":"Vector2","value":{"x":0.5,"y":0.5}},"AutoLocalize":{"type":"bool","value":true},"AutomaticSize":{"type":"Enum","value":{"enumType":"AutomaticSize","value":"None"}},"BackgroundColor3":{"type":"Color3","value":{"b":0.12941177189350128,"g":0.12941177189350128,"r":0.12941177189350128}},"BackgroundTransparency":{"type":"float","value":0.30000001192092896},"BorderColor3":{"type":"Color3","value":{"b":0,"g":0,"r":0}},"BorderMode":{"type":"Enum","value":{"enumType":"BorderMode","value":"Outline"}},"BorderSizePixel":{"type":"int","value":0},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"ClipsDescendants":{"type":"bool","value":false},"Draggable":{"type":"bool","value":false},"GuiState":{"type":"Enum","value":{"enumType":"GuiState","value":"Idle"}},"Interactable":{"type":"bool","value":true},"LayoutOrder":{"type":"int","value":0},"NextSelectionDown":{"type":"nil"},"NextSelectionLeft":{"type":"nil"},"NextSelectionRight":{"type":"nil"},"NextSelectionUp":{"type":"nil"},"Position":{"type":"UDim2","value":{"x":{"offset":0,"scale":0.5},"y":{"offset":0,"scale":0.550000011920929}}},"RootLocalizationTable":{"type":"nil"},"Rotation":{"type":"float","value":0},"Selectable":{"type":"bool","value":false},"SelectionBehaviorDown":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorLeft":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorRight":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorUp":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionGroup":{"type":"bool","value":false},"SelectionImageObject":{"type":"nil"},"SelectionOrder":{"type":"int","value":0},"Size":{"type":"UDim2","value":{"x":{"offset":0,"scale":0.699999988079071},"y":{"offset":0,"scale":0.30000001192092896}}},"SizeConstraint":{"type":"Enum","value":{"enumType":"SizeConstraint","value":"RelativeXY"}},"Style":{"type":"Enum","value":{"enumType":"FrameStyle","value":"Custom"}},"Visible":{"type":"bool","value":false},"ZIndex":{"type":"int","value":4}},"referenceId":"0005e03a-0045-dcd0-951e-0000230b9ac8"},{"className":"UIStroke","name":"UIStroke","properties":{"ApplyStrokeMode":{"type":"Enum","value":{"enumType":"ApplyStrokeMode","value":"Contextual"}},"BorderOffset":{"type":"UDim","value":{"offset":0,"scale":0}},"BorderStrokePosition":{"type":"Enum","value":{"enumType":"BorderStrokePosition","value":"Outer"}},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"Color":{"type":"Color3","value":{"b":0,"g":1,"r":0}},"Enabled":{"type":"bool","value":true},"LineJoinMode":{"type":"Enum","value":{"enumType":"LineJoinMode","value":"Miter"}},"StrokeSizingMode":{"type":"Enum","value":{"enumType":"StrokeSizingMode","value":"FixedSize"}},"Thickness":{"type":"float","value":4},"Transparency":{"type":"float","value":0},"ZIndex":{"type":"int","value":1}},"referenceId":"0005e03b-8d86-5433-d809-00001fa54ea4"},{"className":"TextLabel","name":"TextLabel","properties":{"Active":{"type":"bool","value":false},"AnchorPoint":{"type":"Vector2","value":{"x":0.5,"y":0.5}},"AutoLocalize":{"type":"bool","value":true},"AutomaticSize":{"type":"Enum","value":{"enumType":"AutomaticSize","value":"None"}},"BackgroundColor3":{"type":"Color3","value":{"b":1,"g":1,"r":1}},"BackgroundTransparency":{"type":"float","value":1},"BorderColor3":{"type":"Color3","value":{"b":0,"g":0,"r":0}},"BorderMode":{"type":"Enum","value":{"enumType":"BorderMode","value":"Outline"}},"BorderSizePixel":{"type":"int","value":0},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"ClipsDescendants":{"type":"bool","value":false},"Draggable":{"type":"bool","value":false},"FontFace":{"type":"Enum","value":{"enumType":"Font","value":"Font { Family = rbxassetid://12187376174, Weight = Bold, Style = Normal }"}},"GuiState":{"type":"Enum","value":{"enumType":"GuiState","value":"Idle"}},"Interactable":{"type":"bool","value":true},"LayoutOrder":{"type":"int","value":0},"LineHeight":{"type":"float","value":1},"MaxVisibleGraphemes":{"type":"int","value":-1},"NextSelectionDown":{"type":"nil"},"NextSelectionLeft":{"type":"nil"},"NextSelectionRight":{"type":"nil"},"NextSelectionUp":{"type":"nil"},"OpenTypeFeatures":{"type":"string","value":""},"OpenTypeFeaturesError":{"type":"string","value":""},"Position":{"type":"UDim2","value":{"x":{"offset":0,"scale":0.5},"y":{"offset":0,"scale":0.5}}},"RichText":{"type":"bool","value":false},"RootLocalizationTable":{"type":"nil"},"Rotation":{"type":"float","value":0},"Selectable":{"type":"bool","value":false},"SelectionBehaviorDown":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorLeft":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorRight":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorUp":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionGroup":{"type":"bool","value":false},"SelectionImageObject":{"type":"nil"},"SelectionOrder":{"type":"int","value":0},"Size":{"type":"UDim2","value":{"x":{"offset":0,"scale":0.800000011920929},"y":{"offset":0,"scale":0.4000000059604645}}},"SizeConstraint":{"type":"Enum","value":{"enumType":"SizeConstraint","value":"RelativeXY"}},"Text":{"type":"string","value":"The Republic of Andor has won!"},"TextColor3":{"type":"Color3","value":{"b":1,"g":1,"r":1}},"TextDirection":{"type":"Enum","value":{"enumType":"TextDirection","value":"Auto"}},"TextScaled":{"type":"bool","value":true},"TextSize":{"type":"float","value":14},"TextStrokeColor3":{"type":"Color3","value":{"b":0,"g":0,"r":0}},"TextStrokeTransparency":{"type":"float","value":1},"TextTransparency":{"type":"float","value":0},"TextTruncate":{"type":"Enum","value":{"enumType":"TextTruncate","value":"None"}},"TextWrapped":{"type":"bool","value":true},"TextXAlignment":{"type":"Enum","value":{"enumType":"TextXAlignment","value":"Center"}},"TextYAlignment":{"type":"Enum","value":{"enumType":"TextYAlignment","value":"Center"}},"Visible":{"type":"bool","value":true},"ZIndex":{"type":"int","value":1}},"referenceId":"0005e03c-2186-7f1f-0ed9-00006690e56e"},{"className":"Frame","name":"CloseWindow","properties":{"Active":{"type":"bool","value":false},"AnchorPoint":{"type":"Vector2","value":{"x":1,"y":0}},"AutoLocalize":{"type":"bool","value":true},"AutomaticSize":{"type":"Enum","value":{"enumType":"AutomaticSize","value":"None"}},"BackgroundColor3":{"type":"Color3","value":{"b":0,"g":0.9764706492424012,"r":0}},"BackgroundTransparency":{"type":"float","value":1},"BorderColor3":{"type":"Color3","value":{"b":0,"g":0,"r":0}},"BorderMode":{"type":"Enum","value":{"enumType":"BorderMode","value":"Outline"}},"BorderSizePixel":{"type":"int","value":0},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"ClipsDescendants":{"type":"bool","value":false},"Draggable":{"type":"bool","value":false},"GuiState":{"type":"Enum","value":{"enumType":"GuiState","value":"Idle"}},"Interactable":{"type":"bool","value":true},"LayoutOrder":{"type":"int","value":0},"NextSelectionDown":{"type":"nil"},"NextSelectionLeft":{"type":"nil"},"NextSelectionRight":{"type":"nil"},"NextSelectionUp":{"type":"nil"},"Position":{"type":"UDim2","value":{"x":{"offset":0,"scale":1},"y":{"offset":0,"scale":0}}},"RootLocalizationTable":{"type":"nil"},"Rotation":{"type":"float","value":0},"Selectable":{"type":"bool","value":false},"SelectionBehaviorDown":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorLeft":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorRight":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorUp":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionGroup":{"type":"bool","value":false},"SelectionImageObject":{"type":"nil"},"SelectionOrder":{"type":"int","value":0},"Size":{"type":"UDim2","value":{"x":{"offset":0,"scale":0.10000000149011612},"y":{"offset":0,"scale":0.20000000298023224}}},"SizeConstraint":{"type":"Enum","value":{"enumType":"SizeConstraint","value":"RelativeXY"}},"Style":{"type":"Enum","value":{"enumType":"FrameStyle","value":"Custom"}},"Visible":{"type":"bool","value":true},"ZIndex":{"type":"int","value":3}},"referenceId":"0005e03d-1482-3699-e593-00006b2dddcb"},{"className":"ImageButton","name":"ImageButton","properties":{"Active":{"type":"bool","value":true},"AnchorPoint":{"type":"Vector2","value":{"x":1,"y":0}},"AutoButtonColor":{"type":"bool","value":true},"AutoLocalize":{"type":"bool","value":true},"AutomaticSize":{"type":"Enum","value":{"enumType":"AutomaticSize","value":"None"}},"BackgroundColor3":{"type":"Color3","value":{"b":0,"g":0.06666667014360428,"r":0.5803921818733215}},"BackgroundTransparency":{"type":"float","value":0},"BorderColor3":{"type":"Color3","value":{"b":0,"g":0,"r":0}},"BorderMode":{"type":"Enum","value":{"enumType":"BorderMode","value":"Outline"}},"BorderSizePixel":{"type":"int","value":0},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"ClipsDescendants":{"type":"bool","value":false},"Draggable":{"type":"bool","value":false},"GuiState":{"type":"Enum","value":{"enumType":"GuiState","value":"Idle"}},"HoverHapticEffect":{"type":"nil"},"HoverImage":{"type":"Enum","value":{"enumType":"ContentId","value":""}},"HoverImageContent":{"type":"Content","value":null},"Image":{"type":"Enum","value":{"enumType":"ContentId","value":"rbxassetid://4661609682"}},"ImageColor3":{"type":"Color3","value":{"b":1,"g":1,"r":1}},"ImageContent":{"type":"Content","value":null},"ImageRectOffset":{"type":"Vector2","value":{"x":0,"y":0}},"ImageRectSize":{"type":"Vector2","value":{"x":0,"y":0}},"ImageTransparency":{"type":"float","value":0},"Interactable":{"type":"bool","value":true},"LayoutOrder":{"type":"int","value":0},"Modal":{"type":"bool","value":false},"NextSelectionDown":{"type":"nil"},"NextSelectionLeft":{"type":"nil"},"NextSelectionRight":{"type":"nil"},"NextSelectionUp":{"type":"nil"},"Position":{"type":"UDim2","value":{"x":{"offset":0,"scale":1},"y":{"offset":0,"scale":0}}},"PressHapticEffect":{"type":"nil"},"PressedImage":{"type":"Enum","value":{"enumType":"ContentId","value":""}},"PressedImageContent":{"type":"Content","value":null},"ResampleMode":{"type":"Enum","value":{"enumType":"ResamplerMode","value":"Default"}},"RootLocalizationTable":{"type":"nil"},"Rotation":{"type":"float","value":0},"ScaleType":{"type":"Enum","value":{"enumType":"ScaleType","value":"Stretch"}},"Selectable":{"type":"bool","value":true},"Selected":{"type":"bool","value":false},"SelectionBehaviorDown":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorLeft":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorRight":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorUp":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionGroup":{"type":"bool","value":false},"SelectionImageObject":{"type":"nil"},"SelectionOrder":{"type":"int","value":0},"Size":{"type":"UDim2","value":{"x":{"offset":0,"scale":1},"y":{"offset":0,"scale":1}}},"SizeConstraint":{"type":"Enum","value":{"enumType":"SizeConstraint","value":"RelativeXY"}},"SliceCenter":{"type":"Rect","value":{"max":{"x":0,"y":0},"min":{"x":0,"y":0}}},"SliceScale":{"type":"float","value":1},"Style":{"type":"Enum","value":{"enumType":"ButtonStyle","value":"Custom"}},"TileSize":{"type":"UDim2","value":{"x":{"offset":0,"scale":1},"y":{"offset":0,"scale":1}}},"Visible":{"type":"bool","value":true},"ZIndex":{"type":"int","value":1}},"referenceId":"0005e03e-39f8-3d0f-768a-00007fb96627"},{"className":"UIAspectRatioConstraint","name":"UIAspectRatioConstraint","properties":{"AspectRatio":{"type":"float","value":1},"AspectType":{"type":"Enum","value":{"enumType":"AspectType","value":"FitWithinMaxSize"}},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"DominantAxis":{"type":"Enum","value":{"enumType":"DominantAxis","value":"Width"}}},"referenceId":"0005e03f-5830-6b20-8f52-0000701e50e5"},{"className":"UISizeConstraint","name":"UISizeConstraint","properties":{"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"MaxSize":{"type":"Vector2","value":{"x":null,"y":null}},"MinSize":{"type":"Vector2","value":{"x":32,"y":32}}},"referenceId":"0005e040-2408-4abf-7d91-0000492225e1"},{"className":"UIStroke","name":"UIStroke","properties":{"ApplyStrokeMode":{"type":"Enum","value":{"enumType":"ApplyStrokeMode","value":"Contextual"}},"BorderOffset":{"type":"UDim","value":{"offset":0,"scale":0}},"BorderStrokePosition":{"type":"Enum","value":{"enumType":"BorderStrokePosition","value":"Outer"}},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"Color":{"type":"Color3","value":{"b":0,"g":0.1490196138620377,"r":1}},"Enabled":{"type":"bool","value":true},"LineJoinMode":{"type":"Enum","value":{"enumType":"LineJoinMode","value":"Miter"}},"StrokeSizingMode":{"type":"Enum","value":{"enumType":"StrokeSizingMode","value":"FixedSize"}},"Thickness":{"type":"float","value":4},"Transparency":{"type":"float","value":0},"ZIndex":{"type":"int","value":1}},"referenceId":"0005e041-d5e8-17c2-3324-0000435bcb19"},{"className":"Frame","name":"ConfettiFrame","properties":{"Active":{"type":"bool","value":false},"AnchorPoint":{"type":"Vector2","value":{"x":0.5,"y":0.5}},"AutoLocalize":{"type":"bool","value":true},"AutomaticSize":{"type":"Enum","value":{"enumType":"AutomaticSize","value":"None"}},"BackgroundColor3":{"type":"Color3","value":{"b":1,"g":1,"r":1}},"BackgroundTransparency":{"type":"float","value":1},"BorderColor3":{"type":"Color3","value":{"b":0.207843154668808,"g":0.16470588743686676,"r":0.10588236153125764}},"BorderMode":{"type":"Enum","value":{"enumType":"BorderMode","value":"Outline"}},"BorderSizePixel":{"type":"int","value":0},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"ClipsDescendants":{"type":"bool","value":false},"Draggable":{"type":"bool","value":false},"GuiState":{"type":"Enum","value":{"enumType":"GuiState","value":"Idle"}},"Interactable":{"type":"bool","value":true},"LayoutOrder":{"type":"int","value":0},"NextSelectionDown":{"type":"nil"},"NextSelectionLeft":{"type":"nil"},"NextSelectionRight":{"type":"nil"},"NextSelectionUp":{"type":"nil"},"Position":{"type":"UDim2","value":{"x":{"offset":0,"scale":0.5},"y":{"offset":0,"scale":0.5}}},"RootLocalizationTable":{"type":"nil"},"Rotation":{"type":"float","value":0},"Selectable":{"type":"bool","value":false},"SelectionBehaviorDown":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorLeft":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorRight":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorUp":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionGroup":{"type":"bool","value":false},"SelectionImageObject":{"type":"nil"},"SelectionOrder":{"type":"int","value":0},"Size":{"type":"UDim2","value":{"x":{"offset":0,"scale":1},"y":{"offset":0,"scale":1}}},"SizeConstraint":{"type":"Enum","value":{"enumType":"SizeConstraint","value":"RelativeXY"}},"Style":{"type":"Enum","value":{"enumType":"FrameStyle","value":"Custom"}},"Visible":{"type":"bool","value":true},"ZIndex":{"type":"int","value":2}},"referenceId":"0005e042-0edb-350b-5565-0000328ef5a7"},{"className":"LocalScript","name":"Confetti","properties":{"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"Disabled":{"type":"bool","value":true},"LinkedSource":{"type":"Enum","value":{"enumType":"ContentId","value":""}},"RunContext":{"type":"Enum","value":{"enumType":"RunContext","value":"Legacy"}},"Source":{"type":"ProtectedString","value":"--//\n-- Confetti Cannon by Richard, Onogork 2018.\n--//\nlocal svcRun = game:GetService(\"RunService\");\nlocal ConfettiCannon = require(script.ConfettiParticles);\nConfettiCannon.setGravity(Vector2.new(0,1));\nlocal confetti = {};\n-- Create confetti paper.\nlocal AmountOfConfetti = 25;\nfor i=1, AmountOfConfetti do\n\tlocal p = ConfettiCannon.createParticle(\n\t\tVector2.new(0.5,1), \t\t\t\t\t\t\t\t\t-- Position on screen. (Scales)\n\t\tVector2.new(math.random(90)-45, math.random(70,100)), \t\t-- The direction power of the blast.\n\t\tscript.Parent, \t\t\t\t\t\t\t\t\t\t\t\t-- The frame that these should be displayed on.\n\t\t{Color3.fromRGB(255,255,100), Color3.fromRGB(255,100,100)} \t-- The colors that should be used.\n\t);\n\ttable.insert(confetti, p);\nend;\n\nlocal confettiColors = {Color3.fromRGB(255,255,100), Color3.fromRGB(255,100,100)};\nlocal confettiActive = false;\n-- Update position of all confetti.\nsvcRun.RenderStepped:Connect(function()\n\tfor _,val in pairs(confetti) do\n\t\tif (confettiColors) then val:SetColors(confettiColors); end;\n\t\tval.Enabled = confettiActive;\n\t\tval:Update();\n\tend;\nend);\n\nlocal fire = function(paramColors)\n\tconfettiColors = paramColors;\n\tspawn(function()\n\t\tconfettiActive = true;\n\t\twait(tick);\n\t\tconfettiActive = false;\n\tend);\nend;\nwhile wait(1) do\n\tfire({Color3.fromRGB(255,0,0), Color3.fromRGB(0,255,0), Color3.fromRGB(0,0,255)});\nend;"}},"referenceId":"0005e043-ec9f-c231-bc65-0000759a6fac","source":"--//\n-- Confetti Cannon by Richard, Onogork 2018.\n--//\nlocal svcRun = game:GetService(\"RunService\");\nlocal ConfettiCannon = require(script.ConfettiParticles);\nConfettiCannon.setGravity(Vector2.new(0,1));\nlocal confetti = {};\n-- Create confetti paper.\nlocal AmountOfConfetti = 25;\nfor i=1, AmountOfConfetti do\n\tlocal p = ConfettiCannon.createParticle(\n\t\tVector2.new(0.5,1), \t\t\t\t\t\t\t\t\t-- Position on screen. (Scales)\n\t\tVector2.new(math.random(90)-45, math.random(70,100)), \t\t-- The direction power of the blast.\n\t\tscript.Parent, \t\t\t\t\t\t\t\t\t\t\t\t-- The frame that these should be displayed on.\n\t\t{Color3.fromRGB(255,255,100), Color3.fromRGB(255,100,100)} \t-- The colors that should be used.\n\t);\n\ttable.insert(confetti, p);\nend;\n\nlocal confettiColors = {Color3.fromRGB(255,255,100), Color3.fromRGB(255,100,100)};\nlocal confettiActive = false;\n-- Update position of all confetti.\nsvcRun.RenderStepped:Connect(function()\n\tfor _,val in pairs(confetti) do\n\t\tif (confettiColors) then val:SetColors(confettiColors); end;\n\t\tval.Enabled = confettiActive;\n\t\tval:Update();\n\tend;\nend);\n\nlocal fire = function(paramColors)\n\tconfettiColors = paramColors;\n\tspawn(function()\n\t\tconfettiActive = true;\n\t\twait(tick);\n\t\tconfettiActive = false;\n\tend);\nend;\nwhile wait(1) do\n\tfire({Color3.fromRGB(255,0,0), Color3.fromRGB(0,255,0), Color3.fromRGB(0,0,255)});\nend;"},{"className":"ModuleScript","name":"ConfettiParticles","properties":{"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"LinkedSource":{"type":"Enum","value":{"enumType":"ContentId","value":""}},"Source":{"type":"ProtectedString","value":"--//\n-- Confetti Cannon by Richard, Onogork 2018.\n--//\n-- Services.\nlocal svcWorkspace = game:GetService(\"Workspace\");\nlocal Camera = svcWorkspace.CurrentCamera;\n-- Confetti Defaults.\nlocal shapes = {script:WaitForChild(\"CircularConfetti\"), script:WaitForChild(\"SquareConfetti\")};\nlocal colors = {Color3.fromRGB(168,100,253), Color3.fromRGB(41,205,255), Color3.fromRGB(120,255,68), Color3.fromRGB(255,113,141), Color3.fromRGB(253,255,106)};\n-- Module.\nlocal _Confetti = {}; _Confetti.__index = _Confetti;\n\t-- Set the gravitational pull for the confetti.\n\tlocal gravity = Vector2.new(0,1);\n\tfunction _Confetti.setGravity(paramVec2)\n\t\tgravity = paramVec2;\n\tend;\n\t-- Create a confetti particle.\t\n\tfunction _Confetti.createParticle(paramEmitter, paramForce, paramParent, paramColors)\n\t\tlocal _Particle = {}; setmetatable(_Particle, _Confetti);\n\t\tcolors = paramColors;\n\t\t-- Adjust forces.\n\t\tlocal xforce = paramForce.X; if (xforce < 0) then xforce = xforce * -1; end;\n\t\tlocal distanceFromZero = 0 - xforce;\n\t\tparamForce = Vector2.new(paramForce.X, paramForce.Y + (distanceFromZero * 0.75));\n\t\tif (paramColors == nil) then paramColors = colors; end; \n\t\t-- Confetti data.\t\t\n\t\t_Particle.EmitterPosition = paramEmitter;\n\t\t_Particle.EmitterPower = paramForce;\n\t\t_Particle.Position = Vector2.new(0,0);\n\t\t_Particle.Power = paramForce;\n\t\t_Particle.Color = paramColors[math.random(#paramColors)];\n\t\tlocal function getParticle()\n\t\t\tlocal label = shapes[math.random(#shapes)]:Clone();\n\t\t\tlabel.ImageColor3 = _Particle.Color;\n\t\t\tlabel.Parent = paramParent;\n\t\t\tlabel.Rotation = math.random(360);\n\t\t\tlabel.Visible = true;\n\t\t\tlabel.ZIndex = 20;\n\t\t\treturn label;\n\t\tend;\n\t\t_Particle.Label = getParticle();\n\t\t_Particle.DefaultSize = 30;\n\t\t_Particle.Size = 1; _Particle.Side = -1;\n\t\t_Particle.OutOfBounds = false;\n\t\t_Particle.Enabled = false;\n\t\t_Particle.Cycles = 0;\t\n\t\treturn _Particle;\n\tend;\n\t-- Update the position of the confetti.\n\tfunction _Confetti:Update(paramDeltaTime)\n\t\tif (self.Enabled and self.OutOfBounds) then\n\t\t\tself.Label.ImageColor3 = self.Color;\n\t\t\tself.Position = Vector2.new(0,0);\n\t\t\tself.Power = Vector2.new(self.EmitterPower.X + math.random(10)-5, self.EmitterPower.Y + math.random(10)-5);\n\t\t\tself.Cycles = self.Cycles + 1;\n\t\tend;\t\n\t\tif (\n\t\t\t(not(self.Enabled) and self.OutOfBounds) or\n\t\t\t(not(self.Enabled) and (self.Cycles == 0))) then\n\t\t\t\tself.Label.Visible = false;\n\t\t\t\tself.OutOfBounds = true;\n\t\t\t\tself.Color = colors[math.random(#colors)];\n\t\t\t\treturn;\n\t\telse\n\t\t\tself.Label.Visible = true;\n\t\tend;\n\t\tlocal startPosition, currentPosition, currentPower = self.EmitterPosition, self.Position, self.Power;\n\t\tlocal imageLabel = self.Label;\n\t\t-- Apply change.\n\t\tif (imageLabel) then\n\t\t\t-- Update position.\n\t\t\tlocal newPosition = Vector2.new(currentPosition.X - currentPower.X, currentPosition.Y - currentPower.Y);\n\t\t\tlocal newPower = Vector2.new((currentPower.X/1.09) - gravity.X, (currentPower.Y/1.1) - gravity.Y);\n\t\t\tlocal ViewportSize = Camera.ViewportSize;\n\t\t\timageLabel.Position = UDim2.new(startPosition.X, newPosition.X, startPosition.Y, newPosition.Y);\n\t\t\tself.OutOfBounds = \n\t\t\t\t(imageLabel.AbsolutePosition.X > ViewportSize.X and gravity.X > 0) or\n\t\t\t\t(imageLabel.AbsolutePosition.Y > ViewportSize.Y and gravity.Y > 0) or\n\t\t\t\t(imageLabel.AbsolutePosition.X < 0  and gravity.X < 0) or\n\t\t\t\t(imageLabel.AbsolutePosition.Y < 0 and gravity.Y < 0);\n\t\t\tself.Position, self.Power = newPosition, newPower;\n\t\t\t-- Start spinning if it's reached max height.\n\t\t\tif (newPower.Y < 0) then\n\t\t\t\tif (self.Size <= 0) then\n\t\t\t\t\tself.Side = 1;\n\t\t\t\t\timageLabel.ImageColor3 = self.Color;\n\t\t\t\tend;\n\t\t\t\tif (self.Size >= self.DefaultSize) then \n\t\t\t\t\tself.Side = -1;\n\t\t\t\t\timageLabel.ImageColor3 = Color3.new(self.Color.r * 0.65, self.Color.g * 0.65, self.Color.b * 0.65);\n\t\t\t\tend;\n\t\t\t\tself.Size = self.Size + (self.Side * 2);\n\t\t\t\timageLabel.Size = UDim2.new(0, self.DefaultSize, 0, self.Size);\t\t\t\t\n\t\t\tend;\n\t\tend;\n\tend;\n\t-- Stops a confetti from firing again once it's out of bounds.\n\tfunction _Confetti:Toggle()\n\t\tself.Enabled = not(self.Enabled);\n\tend;\n\t\n\tfunction _Confetti:SetColors(paramColors)\n\t\tcolors = paramColors;\n\tend;\n\t\nreturn _Confetti;\n"}},"referenceId":"0005e044-5dc1-5752-7183-00002fc835a7","source":"--//\n-- Confetti Cannon by Richard, Onogork 2018.\n--//\n-- Services.\nlocal svcWorkspace = game:GetService(\"Workspace\");\nlocal Camera = svcWorkspace.CurrentCamera;\n-- Confetti Defaults.\nlocal shapes = {script:WaitForChild(\"CircularConfetti\"), script:WaitForChild(\"SquareConfetti\")};\nlocal colors = {Color3.fromRGB(168,100,253), Color3.fromRGB(41,205,255), Color3.fromRGB(120,255,68), Color3.fromRGB(255,113,141), Color3.fromRGB(253,255,106)};\n-- Module.\nlocal _Confetti = {}; _Confetti.__index = _Confetti;\n\t-- Set the gravitational pull for the confetti.\n\tlocal gravity = Vector2.new(0,1);\n\tfunction _Confetti.setGravity(paramVec2)\n\t\tgravity = paramVec2;\n\tend;\n\t-- Create a confetti particle.\t\n\tfunction _Confetti.createParticle(paramEmitter, paramForce, paramParent, paramColors)\n\t\tlocal _Particle = {}; setmetatable(_Particle, _Confetti);\n\t\tcolors = paramColors;\n\t\t-- Adjust forces.\n\t\tlocal xforce = paramForce.X; if (xforce < 0) then xforce = xforce * -1; end;\n\t\tlocal distanceFromZero = 0 - xforce;\n\t\tparamForce = Vector2.new(paramForce.X, paramForce.Y + (distanceFromZero * 0.75));\n\t\tif (paramColors == nil) then paramColors = colors; end; \n\t\t-- Confetti data.\t\t\n\t\t_Particle.EmitterPosition = paramEmitter;\n\t\t_Particle.EmitterPower = paramForce;\n\t\t_Particle.Position = Vector2.new(0,0);\n\t\t_Particle.Power = paramForce;\n\t\t_Particle.Color = paramColors[math.random(#paramColors)];\n\t\tlocal function getParticle()\n\t\t\tlocal label = shapes[math.random(#shapes)]:Clone();\n\t\t\tlabel.ImageColor3 = _Particle.Color;\n\t\t\tlabel.Parent = paramParent;\n\t\t\tlabel.Rotation = math.random(360);\n\t\t\tlabel.Visible = true;\n\t\t\tlabel.ZIndex = 20;\n\t\t\treturn label;\n\t\tend;\n\t\t_Particle.Label = getParticle();\n\t\t_Particle.DefaultSize = 30;\n\t\t_Particle.Size = 1; _Particle.Side = -1;\n\t\t_Particle.OutOfBounds = false;\n\t\t_Particle.Enabled = false;\n\t\t_Particle.Cycles = 0;\t\n\t\treturn _Particle;\n\tend;\n\t-- Update the position of the confetti.\n\tfunction _Confetti:Update(paramDeltaTime)\n\t\tif (self.Enabled and self.OutOfBounds) then\n\t\t\tself.Label.ImageColor3 = self.Color;\n\t\t\tself.Position = Vector2.new(0,0);\n\t\t\tself.Power = Vector2.new(self.EmitterPower.X + math.random(10)-5, self.EmitterPower.Y + math.random(10)-5);\n\t\t\tself.Cycles = self.Cycles + 1;\n\t\tend;\t\n\t\tif (\n\t\t\t(not(self.Enabled) and self.OutOfBounds) or\n\t\t\t(not(self.Enabled) and (self.Cycles == 0))) then\n\t\t\t\tself.Label.Visible = false;\n\t\t\t\tself.OutOfBounds = true;\n\t\t\t\tself.Color = colors[math.random(#colors)];\n\t\t\t\treturn;\n\t\telse\n\t\t\tself.Label.Visible = true;\n\t\tend;\n\t\tlocal startPosition, currentPosition, currentPower = self.EmitterPosition, self.Position, self.Power;\n\t\tlocal imageLabel = self.Label;\n\t\t-- Apply change.\n\t\tif (imageLabel) then\n\t\t\t-- Update position.\n\t\t\tlocal newPosition = Vector2.new(currentPosition.X - currentPower.X, currentPosition.Y - currentPower.Y);\n\t\t\tlocal newPower = Vector2.new((currentPower.X/1.09) - gravity.X, (currentPower.Y/1.1) - gravity.Y);\n\t\t\tlocal ViewportSize = Camera.ViewportSize;\n\t\t\timageLabel.Position = UDim2.new(startPosition.X, newPosition.X, startPosition.Y, newPosition.Y);\n\t\t\tself.OutOfBounds = \n\t\t\t\t(imageLabel.AbsolutePosition.X > ViewportSize.X and gravity.X > 0) or\n\t\t\t\t(imageLabel.AbsolutePosition.Y > ViewportSize.Y and gravity.Y > 0) or\n\t\t\t\t(imageLabel.AbsolutePosition.X < 0  and gravity.X < 0) or\n\t\t\t\t(imageLabel.AbsolutePosition.Y < 0 and gravity.Y < 0);\n\t\t\tself.Position, self.Power = newPosition, newPower;\n\t\t\t-- Start spinning if it's reached max height.\n\t\t\tif (newPower.Y < 0) then\n\t\t\t\tif (self.Size <= 0) then\n\t\t\t\t\tself.Side = 1;\n\t\t\t\t\timageLabel.ImageColor3 = self.Color;\n\t\t\t\tend;\n\t\t\t\tif (self.Size >= self.DefaultSize) then \n\t\t\t\t\tself.Side = -1;\n\t\t\t\t\timageLabel.ImageColor3 = Color3.new(self.Color.r * 0.65, self.Color.g * 0.65, self.Color.b * 0.65);\n\t\t\t\tend;\n\t\t\t\tself.Size = self.Size + (self.Side * 2);\n\t\t\t\timageLabel.Size = UDim2.new(0, self.DefaultSize, 0, self.Size);\t\t\t\t\n\t\t\tend;\n\t\tend;\n\tend;\n\t-- Stops a confetti from firing again once it's out of bounds.\n\tfunction _Confetti:Toggle()\n\t\tself.Enabled = not(self.Enabled);\n\tend;\n\t\n\tfunction _Confetti:SetColors(paramColors)\n\t\tcolors = paramColors;\n\tend;\n\t\nreturn _Confetti;\n"},{"className":"ImageLabel","name":"SquareConfetti","properties":{"Active":{"type":"bool","value":false},"AnchorPoint":{"type":"Vector2","value":{"x":0.5,"y":0.5}},"AutoLocalize":{"type":"bool","value":true},"AutomaticSize":{"type":"Enum","value":{"enumType":"AutomaticSize","value":"None"}},"BackgroundColor3":{"type":"Color3","value":{"b":1,"g":1,"r":1}},"BackgroundTransparency":{"type":"float","value":1},"BorderColor3":{"type":"Color3","value":{"b":0.207843154668808,"g":0.16470588743686676,"r":0.10588236153125764}},"BorderMode":{"type":"Enum","value":{"enumType":"BorderMode","value":"Outline"}},"BorderSizePixel":{"type":"int","value":0},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"ClipsDescendants":{"type":"bool","value":false},"Draggable":{"type":"bool","value":false},"GuiState":{"type":"Enum","value":{"enumType":"GuiState","value":"Idle"}},"Image":{"type":"Enum","value":{"enumType":"ContentId","value":"rbxassetid://910256717"}},"ImageColor3":{"type":"Color3","value":{"b":1,"g":1,"r":1}},"ImageContent":{"type":"Content","value":null},"ImageRectOffset":{"type":"Vector2","value":{"x":0,"y":0}},"ImageRectSize":{"type":"Vector2","value":{"x":0,"y":0}},"ImageTransparency":{"type":"float","value":0},"Interactable":{"type":"bool","value":true},"LayoutOrder":{"type":"int","value":0},"NextSelectionDown":{"type":"nil"},"NextSelectionLeft":{"type":"nil"},"NextSelectionRight":{"type":"nil"},"NextSelectionUp":{"type":"nil"},"Position":{"type":"UDim2","value":{"x":{"offset":0,"scale":0},"y":{"offset":0,"scale":0}}},"ResampleMode":{"type":"Enum","value":{"enumType":"ResamplerMode","value":"Default"}},"RootLocalizationTable":{"type":"nil"},"Rotation":{"type":"float","value":0},"ScaleType":{"type":"Enum","value":{"enumType":"ScaleType","value":"Stretch"}},"Selectable":{"type":"bool","value":false},"SelectionBehaviorDown":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorLeft":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorRight":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorUp":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionGroup":{"type":"bool","value":false},"SelectionImageObject":{"type":"nil"},"SelectionOrder":{"type":"int","value":0},"Size":{"type":"UDim2","value":{"x":{"offset":30,"scale":0},"y":{"offset":30,"scale":0}}},"SizeConstraint":{"type":"Enum","value":{"enumType":"SizeConstraint","value":"RelativeXY"}},"SliceCenter":{"type":"Rect","value":{"max":{"x":0,"y":0},"min":{"x":0,"y":0}}},"SliceScale":{"type":"float","value":1},"TileSize":{"type":"UDim2","value":{"x":{"offset":0,"scale":1},"y":{"offset":0,"scale":1}}},"Visible":{"type":"bool","value":false},"ZIndex":{"type":"int","value":1}},"referenceId":"0005e045-1c35-1bce-cba9-00001260e6d0"},{"className":"ImageLabel","name":"CircularConfetti","properties":{"Active":{"type":"bool","value":false},"AnchorPoint":{"type":"Vector2","value":{"x":0.5,"y":0.5}},"AutoLocalize":{"type":"bool","value":true},"AutomaticSize":{"type":"Enum","value":{"enumType":"AutomaticSize","value":"None"}},"BackgroundColor3":{"type":"Color3","value":{"b":1,"g":1,"r":1}},"BackgroundTransparency":{"type":"float","value":1},"BorderColor3":{"type":"Color3","value":{"b":0.207843154668808,"g":0.16470588743686676,"r":0.10588236153125764}},"BorderMode":{"type":"Enum","value":{"enumType":"BorderMode","value":"Outline"}},"BorderSizePixel":{"type":"int","value":0},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"ClipsDescendants":{"type":"bool","value":false},"Draggable":{"type":"bool","value":false},"GuiState":{"type":"Enum","value":{"enumType":"GuiState","value":"Idle"}},"Image":{"type":"Enum","value":{"enumType":"ContentId","value":"rbxassetid://2695001063"}},"ImageColor3":{"type":"Color3","value":{"b":1,"g":1,"r":1}},"ImageContent":{"type":"Content","value":null},"ImageRectOffset":{"type":"Vector2","value":{"x":0,"y":0}},"ImageRectSize":{"type":"Vector2","value":{"x":0,"y":0}},"ImageTransparency":{"type":"float","value":0},"Interactable":{"type":"bool","value":true},"LayoutOrder":{"type":"int","value":0},"NextSelectionDown":{"type":"nil"},"NextSelectionLeft":{"type":"nil"},"NextSelectionRight":{"type":"nil"},"NextSelectionUp":{"type":"nil"},"Position":{"type":"UDim2","value":{"x":{"offset":0,"scale":0},"y":{"offset":0,"scale":0}}},"ResampleMode":{"type":"Enum","value":{"enumType":"ResamplerMode","value":"Default"}},"RootLocalizationTable":{"type":"nil"},"Rotation":{"type":"float","value":0},"ScaleType":{"type":"Enum","value":{"enumType":"ScaleType","value":"Stretch"}},"Selectable":{"type":"bool","value":false},"SelectionBehaviorDown":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorLeft":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorRight":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionBehaviorUp":{"type":"Enum","value":{"enumType":"SelectionBehavior","value":"Escape"}},"SelectionGroup":{"type":"bool","value":false},"SelectionImageObject":{"type":"nil"},"SelectionOrder":{"type":"int","value":0},"Size":{"type":"UDim2","value":{"x":{"offset":30,"scale":0},"y":{"offset":30,"scale":0}}},"SizeConstraint":{"type":"Enum","value":{"enumType":"SizeConstraint","value":"RelativeXY"}},"SliceCenter":{"type":"Rect","value":{"max":{"x":0,"y":0},"min":{"x":0,"y":0}}},"SliceScale":{"type":"float","value":1},"TileSize":{"type":"UDim2","value":{"x":{"offset":0,"scale":1},"y":{"offset":0,"scale":1}}},"Visible":{"type":"bool","value":false},"ZIndex":{"type":"int","value":1}},"referenceId":"0005e046-4292-4efc-af5d-00007523c654"},{"className":"Sound","name":"Sound","properties":{"AudioContent":{"type":"Content","value":null},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"LoopRegion":{"type":"NumberRange","value":{"max":60000,"min":0}},"Looped":{"type":"bool","value":false},"PlayOnRemove":{"type":"bool","value":false},"PlaybackRegion":{"type":"NumberRange","value":{"max":60000,"min":0}},"PlaybackRegionsEnabled":{"type":"bool","value":false},"PlaybackSpeed":{"type":"float","value":1},"Playing":{"type":"bool","value":false},"RollOffMaxDistance":{"type":"float","value":10000},"RollOffMinDistance":{"type":"float","value":10},"RollOffMode":{"type":"Enum","value":{"enumType":"RollOffMode","value":"InverseTapered"}},"SoundGroup":{"type":"nil"},"SoundId":{"type":"Enum","value":{"enumType":"ContentId","value":"rbxassetid://9067086414"}},"TimePosition":{"type":"double","value":0},"Volume":{"type":"float","value":0.4000000059604645}},"referenceId":"0005e047-3699-7db7-390c-00005239137a"},{"className":"StarterPack","name":"StarterPack","properties":{"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}}},"referenceId":"0005e048-a42f-9152-5060-000070f46c11"},{"className":"StarterPlayer","name":"StarterPlayer","properties":{"AutoJumpEnabled":{"type":"bool","value":true},"CameraMaxZoomDistance":{"type":"float","value":128},"CameraMinZoomDistance":{"type":"float","value":0.5},"CameraMode":{"type":"Enum","value":{"enumType":"CameraMode","value":"Classic"}},"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"CharacterBreakJointsOnDeath":{"type":"bool","value":true},"CharacterJumpHeight":{"type":"float","value":7.199999809265137},"CharacterJumpPower":{"type":"float","value":50},"CharacterMaxSlopeAngle":{"type":"float","value":89},"CharacterUseJumpPower":{"type":"bool","value":false},"CharacterWalkSpeed":{"type":"float","value":16},"ClassicDeath":{"type":"bool","value":true},"DevCameraOcclusionMode":{"type":"Enum","value":{"enumType":"DevCameraOcclusionMode","value":"Zoom"}},"DevComputerCameraMovementMode":{"type":"Enum","value":{"enumType":"DevComputerCameraMovementMode","value":"UserChoice"}},"DevComputerMovementMode":{"type":"Enum","value":{"enumType":"DevComputerMovementMode","value":"UserChoice"}},"DevTouchCameraMovementMode":{"type":"Enum","value":{"enumType":"DevTouchCameraMovementMode","value":"UserChoice"}},"DevTouchMovementMode":{"type":"Enum","value":{"enumType":"DevTouchMovementMode","value":"UserChoice"}},"EnableMouseLockOption":{"type":"bool","value":true},"HealthDisplayDistance":{"type":"float","value":100},"LoadCharacterAppearance":{"type":"bool","value":true},"LuaCharacterController":{"type":"Enum","value":{"enumType":"CharacterControlMode","value":"Default"}},"NameDisplayDistance":{"type":"float","value":100},"UserEmotesEnabled":{"type":"bool","value":true}},"referenceId":"0005e049-8be0-6413-be8a-000017cb3009"},{"className":"StarterPlayerScripts","name":"StarterPlayerScripts","properties":{"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}}},"referenceId":"0005e04a-012f-8346-5f10-00007393a1f4"},{"className":"LocalScript","name":"InputHandler","properties":{"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"Disabled":{"type":"bool","value":false},"LinkedSource":{"type":"Enum","value":{"enumType":"ContentId","value":""}},"RunContext":{"type":"Enum","value":{"enumType":"RunContext","value":"Legacy"}},"Source":{"type":"ProtectedString","value":"-- Services\nlocal Players = game:GetService(\"Players\")\nlocal ReplicatedStorage = game:GetService(\"ReplicatedStorage\")\nlocal UserInputService = game:GetService(\"UserInputService\")\nlocal GuiService = game:GetService(\"GuiService\")\n\n-- References\nlocal ButtonEvent = ReplicatedStorage.Remotes.ButtonEvent\nlocal TerritorySelectEvent = ReplicatedStorage.Remotes.TerritorySelectEvent\nlocal GetPixelTypeFunction = ReplicatedStorage.Remotes.GetPixelTypeFunction\n\nlocal player = Players.LocalPlayer\nlocal mouse = player:GetMouse()\nlocal ToggleCursor = script.Parent:WaitForChild(\"ToggleCursor\")\n\n-- GUI References\nlocal playerGui = player:WaitForChild(\"PlayerGui\")\nlocal actionGui = player:WaitForChild(\"PlayerGui\"):WaitForChild(\"Actions\")\nlocal buttonList = actionGui.ButtonList\nlocal template = actionGui.Template\nlocal buttons = template:GetChildren()\nlocal guiInset = GuiService:GetGuiInset()\n\nlocal buttonDictionary = {}\nfor _, button in buttons do\n\tbuttonDictionary[button.Name] = button\n\tbuttons = buttonDictionary\nend\n\n-- Constants\nlocal BUTTON_SIZE = 64\nlocal PADDING = 12\n\nlocal storedPosition = mouse.Hit.p\n\n\nlocal function timestamp()\n\treturn DateTime.now().UnixTimestampMillis\nend\n\nlocal lastPointerDown = timestamp()\nlocal clickTimeThreshold = 250\n\n-- Functions\n\n-- load elements\ntask.wait(1)\n-- Reparents buttons back to template and hides the button list when the mouse leaves the area\nlocal function ParentButtonsOnMouseOff()\n\tToggleCursor.Value = true\n\tbuttonList.Visible = false\n\tfor _, button in buttons do\n\t\tbutton.Parent = template\n\tend\nend\n\n-- Adjusts the frame size based on the number of buttons\nlocal function ResizeFrameFromButtonCount(buttonCount)\n\tlocal frameHeight = (BUTTON_SIZE + PADDING) * buttonCount\n\tbuttonList.Size = UDim2.new(0, BUTTON_SIZE, 0, frameHeight)\nend\n\n-- Sets the position of the frame and makes it visible\nlocal function PositionAndMakeFrameVisible(buttonCount)\n\tResizeFrameFromButtonCount(buttonCount)\n\tlocal offset = 0\n\tif buttonCount == 2 then\n\t\toffset = 32+6\n\tend\n\tToggleCursor.Value = false\n\tbuttonList.Position = UDim2.new(0, mouse.X, 0, mouse.Y - offset)\n\tbuttonList.Visible = true\nend\n\n\n\n-- Displays appropriate buttons based on game status and pixel type\nlocal function ParentButtonTypesFromData(gameStatus, pixelType)\n\tParentButtonsOnMouseOff()\n\n\tlocal buttonCount = 0\n\t-- print(\"pixelType: \" .. pixelType)\n\n\tlocal buttonsToParent = TerritorySelectEvent:InvokeServer(player.UserId, pixelType, mouse.Hit.p)\n\n\tfor _, buttonName in buttonsToParent do\n\t\tlocal button = buttons[buttonName]\n\t\tif buttonName == nil then continue end\n\t\tbutton.Parent = buttonList\n\t\tbuttonCount += 1\n\tend\n\n\tif buttonCount > 0 then\n\t\tPositionAndMakeFrameVisible(buttonCount)\n\tend\nend\n\n-- Event Handlers\ntask.wait(1)\n-- Reparent buttons when mouse leaves the button list\nbuttonList.MouseLeave:Connect(ParentButtonsOnMouseOff)\n\n-- Connect button clicks to appropriate remote events\nfor _, button in buttons do\n\tbutton.MouseButton1Down:Connect(function()\n\t\tButtonEvent:FireServer(button.Name, storedPosition)\n\n\tend)\nend\n\nlocal function getIndexFromPosition(x, y)\n\treturn x * 250 + y + 1\nend\n\nlocal function getPointerTarget(inuputPos: Vector2)\n\tlocal raycastParams = RaycastParams.new()\n\tlocal ray = workspace.CurrentCamera:ScreenPointToRay(inuputPos.X, inuputPos.Y)\n\tlocal raycastResult = workspace:Raycast(ray.Origin, ray.Direction * 1000, raycastParams)\n\treturn (raycastResult and raycastResult.Instance) or nil\nend\n\nlocal function isPointer(inputObject: InputObject): boolean\n\treturn inputObject.UserInputType == Enum.UserInputType.MouseButton1 or inputObject.UserInputType == Enum.UserInputType.Touch\nend\n\nlocal function offsetLastPointerDown()\n\tlastPointerDown -= 251\nend\n\nlocal function areGuiButtonsBlockingInput()\n\tlocal mousePosition = UserInputService:GetMouseLocation()\n\tlocal guiObjects = playerGui:GetGuiObjectsAtPosition(mousePosition.X, mousePosition.Y - guiInset.Y)\n\n\tfor _, guiObject in guiObjects do\n\t\tif guiObject:IsA(\"GuiButton\") then\n\t\t\toffsetLastPointerDown()\n\t\t\treturn true\n\t\tend\n\tend\n\n\treturn false\nend\n\nlocal function canProceedWithClick()\n\tif areGuiButtonsBlockingInput() then return false end\n\tlocal lastTime = timestamp()\n\tlocal storeLastPointerDown = lastPointerDown\n\n\tif lastTime - storeLastPointerDown > clickTimeThreshold then\n\t\treturn false\n\tend\n\n\treturn true\nend\n\nlocal function onPointerPressed(inputPos: Vector2)\n\tif not canProceedWithClick() then return end\n\n\tlocal pointerTarget = getPointerTarget(inputPos)\n\n\tif pointerTarget and not pointerTarget:IsA(\"GuiObject\") then\n\t\toffsetLastPointerDown()\n\t\tlocal pixelType = GetPixelTypeFunction:InvokeServer(mouse.Hit.p)\n\t\tlocal gameStatus = ReplicatedStorage.Data.GameStatus.Value\n\t\tprint(gameStatus)\n\t\tParentButtonTypesFromData(gameStatus, pixelType)\n\t\tstoredPosition = mouse.Hit.p\n\t\tprint(\"pixelIndex: \" .. getIndexFromPosition(math.floor(mouse.Hit.p.X + .5), math.floor(mouse.Hit.p.Z+ .5)))\n\tend\nend\n\nlocal function hookEvents()\n\tUserInputService.InputBegan:Connect(function(inputObject: InputObject)\n\t\tif inputObject.UserInputType == Enum.UserInputType.MouseMovement then\n\t\t\toffsetLastPointerDown()\n\t\t\treturn\n\t\tend\n\n\t\t-- ParentButtonsOnMouseOff()\n\t\tif isPointer(inputObject) == false then return end\n\t\tlastPointerDown = timestamp()\n\tend)\n\n\tUserInputService.InputEnded:Connect(function(inputObject: InputObject)\n\t\tParentButtonsOnMouseOff()\n\t\tif isPointer(inputObject) == false then return end\n\t\tif canProceedWithClick() == false then return end\n\t\tlocal inputPos = inputObject.Position\n\t\tonPointerPressed(inputPos)\n\tend)\nend\n\nhookEvents()\n\n-- Main mouse click logic\n-- mouse.Button1Down:Connect(function()\n\n-- \tif mouse.Target and not mouse.Target:IsA(\"GuiObject\") then\n\n-- \t\tlocal pixelType = GetPixelTypeFunction:InvokeServer(mouse.Hit.p)\n-- \t\tlocal gameStatus = ReplicatedStorage.Data.GameStatus.Value\n-- \t\t-- print(gameStatus)\n-- \t\tParentButtonTypesFromData(gameStatus, pixelType)\n-- \t\tstoredPosition = mouse.Hit.p\n-- \t\t-- print(\"pixelIndex: \" .. getIndexFromPosition(math.floor(mouse.Hit.p.X + .5), math.floor(mouse.Hit.p.Z+ .5)))\n-- \t\t--print()\n-- \tend\n-- end)\n\nReplicatedStorage.Remotes.GetPercentAllocatedFunction.OnClientInvoke = function()\n\treturn player.PlayerScripts.Percent.Value\nend"}},"referenceId":"0005e04b-2a12-f780-76f9-00003bae9c71","source":"-- Services\nlocal Players = game:GetService(\"Players\")\nlocal ReplicatedStorage = game:GetService(\"ReplicatedStorage\")\nlocal UserInputService = game:GetService(\"UserInputService\")\nlocal GuiService = game:GetService(\"GuiService\")\n\n-- References\nlocal ButtonEvent = ReplicatedStorage.Remotes.ButtonEvent\nlocal TerritorySelectEvent = ReplicatedStorage.Remotes.TerritorySelectEvent\nlocal GetPixelTypeFunction = ReplicatedStorage.Remotes.GetPixelTypeFunction\n\nlocal player = Players.LocalPlayer\nlocal mouse = player:GetMouse()\nlocal ToggleCursor = script.Parent:WaitForChild(\"ToggleCursor\")\n\n-- GUI References\nlocal playerGui = player:WaitForChild(\"PlayerGui\")\nlocal actionGui = player:WaitForChild(\"PlayerGui\"):WaitForChild(\"Actions\")\nlocal buttonList = actionGui.ButtonList\nlocal template = actionGui.Template\nlocal buttons = template:GetChildren()\nlocal guiInset = GuiService:GetGuiInset()\n\nlocal buttonDictionary = {}\nfor _, button in buttons do\n\tbuttonDictionary[button.Name] = button\n\tbuttons = buttonDictionary\nend\n\n-- Constants\nlocal BUTTON_SIZE = 64\nlocal PADDING = 12\n\nlocal storedPosition = mouse.Hit.p\n\n\nlocal function timestamp()\n\treturn DateTime.now().UnixTimestampMillis\nend\n\nlocal lastPointerDown = timestamp()\nlocal clickTimeThreshold = 250\n\n-- Functions\n\n-- load elements\ntask.wait(1)\n-- Reparents buttons back to template and hides the button list when the mouse leaves the area\nlocal function ParentButtonsOnMouseOff()\n\tToggleCursor.Value = true\n\tbuttonList.Visible = false\n\tfor _, button in buttons do\n\t\tbutton.Parent = template\n\tend\nend\n\n-- Adjusts the frame size based on the number of buttons\nlocal function ResizeFrameFromButtonCount(buttonCount)\n\tlocal frameHeight = (BUTTON_SIZE + PADDING) * buttonCount\n\tbuttonList.Size = UDim2.new(0, BUTTON_SIZE, 0, frameHeight)\nend\n\n-- Sets the position of the frame and makes it visible\nlocal function PositionAndMakeFrameVisible(buttonCount)\n\tResizeFrameFromButtonCount(buttonCount)\n\tlocal offset = 0\n\tif buttonCount == 2 then\n\t\toffset = 32+6\n\tend\n\tToggleCursor.Value = false\n\tbuttonList.Position = UDim2.new(0, mouse.X, 0, mouse.Y - offset)\n\tbuttonList.Visible = true\nend\n\n\n\n-- Displays appropriate buttons based on game status and pixel type\nlocal function ParentButtonTypesFromData(gameStatus, pixelType)\n\tParentButtonsOnMouseOff()\n\n\tlocal buttonCount = 0\n\t-- print(\"pixelType: \" .. pixelType)\n\n\tlocal buttonsToParent = TerritorySelectEvent:InvokeServer(player.UserId, pixelType, mouse.Hit.p)\n\n\tfor _, buttonName in buttonsToParent do\n\t\tlocal button = buttons[buttonName]\n\t\tif buttonName == nil then continue end\n\t\tbutton.Parent = buttonList\n\t\tbuttonCount += 1\n\tend\n\n\tif buttonCount > 0 then\n\t\tPositionAndMakeFrameVisible(buttonCount)\n\tend\nend\n\n-- Event Handlers\ntask.wait(1)\n-- Reparent buttons when mouse leaves the button list\nbuttonList.MouseLeave:Connect(ParentButtonsOnMouseOff)\n\n-- Connect button clicks to appropriate remote events\nfor _, button in buttons do\n\tbutton.MouseButton1Down:Connect(function()\n\t\tButtonEvent:FireServer(button.Name, storedPosition)\n\n\tend)\nend\n\nlocal function getIndexFromPosition(x, y)\n\treturn x * 250 + y + 1\nend\n\nlocal function getPointerTarget(inuputPos: Vector2)\n\tlocal raycastParams = RaycastParams.new()\n\tlocal ray = workspace.CurrentCamera:ScreenPointToRay(inuputPos.X, inuputPos.Y)\n\tlocal raycastResult = workspace:Raycast(ray.Origin, ray.Direction * 1000, raycastParams)\n\treturn (raycastResult and raycastResult.Instance) or nil\nend\n\nlocal function isPointer(inputObject: InputObject): boolean\n\treturn inputObject.UserInputType == Enum.UserInputType.MouseButton1 or inputObject.UserInputType == Enum.UserInputType.Touch\nend\n\nlocal function offsetLastPointerDown()\n\tlastPointerDown -= 251\nend\n\nlocal function areGuiButtonsBlockingInput()\n\tlocal mousePosition = UserInputService:GetMouseLocation()\n\tlocal guiObjects = playerGui:GetGuiObjectsAtPosition(mousePosition.X, mousePosition.Y - guiInset.Y)\n\n\tfor _, guiObject in guiObjects do\n\t\tif guiObject:IsA(\"GuiButton\") then\n\t\t\toffsetLastPointerDown()\n\t\t\treturn true\n\t\tend\n\tend\n\n\treturn false\nend\n\nlocal function canProceedWithClick()\n\tif areGuiButtonsBlockingInput() then return false end\n\tlocal lastTime = timestamp()\n\tlocal storeLastPointerDown = lastPointerDown\n\n\tif lastTime - storeLastPointerDown > clickTimeThreshold then\n\t\treturn false\n\tend\n\n\treturn true\nend\n\nlocal function onPointerPressed(inputPos: Vector2)\n\tif not canProceedWithClick() then return end\n\n\tlocal pointerTarget = getPointerTarget(inputPos)\n\n\tif pointerTarget and not pointerTarget:IsA(\"GuiObject\") then\n\t\toffsetLastPointerDown()\n\t\tlocal pixelType = GetPixelTypeFunction:InvokeServer(mouse.Hit.p)\n\t\tlocal gameStatus = ReplicatedStorage.Data.GameStatus.Value\n\t\tprint(gameStatus)\n\t\tParentButtonTypesFromData(gameStatus, pixelType)\n\t\tstoredPosition = mouse.Hit.p\n\t\tprint(\"pixelIndex: \" .. getIndexFromPosition(math.floor(mouse.Hit.p.X + .5), math.floor(mouse.Hit.p.Z+ .5)))\n\tend\nend\n\nlocal function hookEvents()\n\tUserInputService.InputBegan:Connect(function(inputObject: InputObject)\n\t\tif inputObject.UserInputType == Enum.UserInputType.MouseMovement then\n\t\t\toffsetLastPointerDown()\n\t\t\treturn\n\t\tend\n\n\t\t-- ParentButtonsOnMouseOff()\n\t\tif isPointer(inputObject) == false then return end\n\t\tlastPointerDown = timestamp()\n\tend)\n\n\tUserInputService.InputEnded:Connect(function(inputObject: InputObject)\n\t\tParentButtonsOnMouseOff()\n\t\tif isPointer(inputObject) == false then return end\n\t\tif canProceedWithClick() == false then return end\n\t\tlocal inputPos = inputObject.Position\n\t\tonPointerPressed(inputPos)\n\tend)\nend\n\nhookEvents()\n\n-- Main mouse click logic\n-- mouse.Button1Down:Connect(function()\n\n-- \tif mouse.Target and not mouse.Target:IsA(\"GuiObject\") then\n\n-- \t\tlocal pixelType = GetPixelTypeFunction:InvokeServer(mouse.Hit.p)\n-- \t\tlocal gameStatus = ReplicatedStorage.Data.GameStatus.Value\n-- \t\t-- print(gameStatus)\n-- \t\tParentButtonTypesFromData(gameStatus, pixelType)\n-- \t\tstoredPosition = mouse.Hit.p\n-- \t\t-- print(\"pixelIndex: \" .. getIndexFromPosition(math.floor(mouse.Hit.p.X + .5), math.floor(mouse.Hit.p.Z+ .5)))\n-- \t\t--print()\n-- \tend\n-- end)\n\nReplicatedStorage.Remotes.GetPercentAllocatedFunction.OnClientInvoke = function()\n\treturn player.PlayerScripts.Percent.Value\nend"},{"className":"LocalScript","name":"CursorVisualizer","properties":{"Capabilities":{"type":"Enum","value":{"enumType":"SecurityCapabilities","value":""}},"Disabled":{"type":"bool","value":false},"LinkedSource":{"type":"Enum","value":{"enumType":"ContentId","value":""}},"RunContext":{"type":"Enum","value":{"enumType":"RunContext","value":"Legacy"}},"Source":{"type":"ProtectedString","value":"-- Services and references\nlocal Players = game:GetService(\"Players\")\nlocal mouse = Players.LocalPlayer:GetMouse()\nlocal ReplicatedStorage = game:GetService(\"ReplicatedStorage\")\nlocal GameStatus = ReplicatedStorage.Data:WaitForChild(\"GameStatus\")\n\n-- Function to round a Vector3 to the nearest integer\nlocal function roundVector3(vec)\n\treturn Vector3.new(math.floor(vec.x + 0.5), 1.5, math.floor(vec.z + 0.5))\nend\n\n-- Function to create a part with the given properties\nlocal function createPart(size, color)\n\tlocal part = Instance.new(\"Part\")\n\tpart.Size = size\n\tpart.Anchored = true\n\tpart.BrickColor = BrickColor.new(color)\n\tpart.CanCollide = false\n\tpart.CanTouch = false\n\tpart.Transparency = 1\n\treturn part\nend\n\n-- Create highlight and cursor parts\nlocal highlightPart1 = createPart(Vector3.new(3, .2, 1), \"Bright blue\")\nlocal highlightPart2 = createPart(Vector3.new(1, .2, 3), \"Bright blue\")\nlocal cursorPart = createPart(Vector3.new(1, .2, 1), \"Bright blue\")\n\n-- Create a folder for ignored parts and set mouse's TargetFilter\nlocal ignoredPartsFolder = Instance.new(\"Folder\")\nignoredPartsFolder.Name = \"IgnoredParts\"\nignoredPartsFolder.Parent = workspace\nworkspace.IgnoredWalls.Parent = ignoredPartsFolder\nhighlightPart1.Parent = ignoredPartsFolder\nhighlightPart2.Parent = ignoredPartsFolder\ncursorPart.Parent = ignoredPartsFolder\nmouse.TargetFilter = ignoredPartsFolder\n\n-- Function to create a selection box for a part\nlocal function createSelectionBox(part, color)\n\tlocal selection = Instance.new(\"SelectionBox\", part)\n\tselection.Adornee = part\n\tselection.Color3 = color\n\treturn selection\nend\n\n-- Create SelectionBoxes\nlocal spawnHi1 = createSelectionBox(highlightPart1, Color3.new(0, 1, 0.974182))\nlocal spawnHi2 = createSelectionBox(highlightPart2, Color3.new(0, 1, 0.974182))\nlocal cursorSelection = createSelectionBox(cursorPart, Color3.new(0, 1, 0.974182))\n\n-- Function to update highlight and cursor parts' position\nlocal function updateHighlightPosition()\n\t\n\tlocal position = roundVector3(mouse.Hit.Position)\n\tlocal outOfBounds = position.X < 0 or position.X > 249 or position.Z < 0 or position.Z > 249\n\n\tif outOfBounds then\n\t--\tprint(position)\n\t\treturn\n\tend\n\t--print(position.X, position.Z)\n\tif GameStatus.Value == 1 then\n\t\tif outOfBounds then\n\t\t\tspawnHi1.Visible = false\n\t\t\tspawnHi2.Visible = false\n\t\t\treturn\n\t\telse\n\t\t\tspawnHi1.Visible = true\n\t\t\tspawnHi2.Visible = true\n\t\tend\n\t\thighlightPart1.Position = position\n\t\thighlightPart2.Position = position\n\t\tcursorPart.Position = position\n\telseif GameStatus.Value == 2 then\n\t\tif outOfBounds then\n\t\t\tcursorSelection.Visible = false\n\t\t\treturn\n\t\telse\n\t\t\tcursorSelection.Visible = true\n\t\tend\n\t\tcursorPart.Position = position\n\t\thighlightPart1:Destroy()\n\t\thighlightPart2:Destroy()\n\t\tcursorSelection.Color3 = Color3.new(1, 0.149126, 0)\n\telseif GameStatus.Value == 3 then\n\t\tcursorPart:Destroy()\n\tend\nend\n\n-- Update highlight and cursor positions when the cursor is toggled\nlocal ToggleCursor = script.Parent:WaitForChild(\"ToggleCursor\")\nwhile task.wait() do\n\tif ToggleCursor.Value then\n\t\tupdateHighlightPosition()\n\tend\nend\n"}},"referenceId":"0005e04c-4cf8-effb-a3b0-0000102c9597","source":"-- Services and references\nlocal Players = game:GetService(\"Players\")\nlocal mouse = Players.LocalPlayer:GetMouse()\nlocal ReplicatedStorage = game:GetService(\"ReplicatedStorage\")\nlocal GameStatus = ReplicatedStorage.Data:WaitForChild(\"GameStatus\")\n\n-- Function to round a Vector3 to the nearest integer\nlocal function roundVector3(vec)\n\treturn Vector3.new(math.floor(vec.x + 0.5), 1.5, math.floor(vec.z + 0.5))\nend\n\n-- Function to create a part with the given properties\nlocal function createPart(size, color)\n\tlocal part = Instance.new(\"Part\")\n\tpart.Size = size\n\tpart.Anchored = true\n\tpart.BrickColor = BrickColor.new(color)\n\tpart.CanCollide = false\n\tpart.CanTouch = false\n\tpart.Transparency = 1\n\treturn part\nend\n\n-- Create highlight and cursor parts\nlocal highlightPart1 = createPart(Vector3.new(3, .2, 1), \"Bright blue\")\nlocal highlightPart2 = createPart(Vector3.new(1, .2, 3), \"Bright blue\")\nlocal cursorPart = createPart(Vector3.new(1, .2, 1), \"Bright blue\")\n\n-- Create a folder for ignored parts and set mouse's TargetFilter\nlocal ignoredPartsFolder = Instance.new(\"Folder\")\nignoredPartsFolder.Name = \"IgnoredParts\"\nignoredPartsFolder.Parent = workspace\nworkspace.IgnoredWalls.Parent = ignoredPartsFolder\nhighlightPart1.Parent = ignoredPartsFolder\nhighlightPart2.Parent = ignoredPartsFolder\ncursorPart.Parent = ignoredPartsFolder\nmouse.TargetFilter = ignoredPartsFolder\n\n-- Function to create a selection box for a part\nlocal function createSelectionBox(part, color)\n\tlocal selection = Instance.new(\"SelectionBox\", part)\n\tselection.Adornee = part\n\tselection.Color3 = color\n\treturn selection\nend\n\n-- Create SelectionBoxes\nlocal spawnHi1 = createSelectionBox(highlightPart1, Color3.new(0, 1, 0.974182))\nlocal spawnHi2 = createSelectionBox(highlightPart2, Color3.new(0, 1, 0.974182))\nlocal cursorSelection = createSelectionBox(cursorPart, Color3.new(0, 1, 0.974182))\n\n-- Function to update highlight and cursor parts' position\nlocal function updateHighlightPosition()\n\t\n\tlocal position = roundVector3(mouse.Hit.Position)\n\tlocal outOfBounds = position.X < 0 or position.X > 249 or position.Z < 0 or position.Z > 249\n\n\tif outOfBounds then\n\t--\tprint(position)\n\t\treturn\n\tend\n\t--print(position.X, position.Z)\n\tif GameStatus.Value == 1 then\n\t\tif outOfBounds then\n\t\t\tspawnHi1.Visible = false\n\t\t\tspawnHi2.Visible = false\n\t\t\treturn\n\t\telse\n\t\t\tspawnHi1.Visible = true\n\t\t\tspawnHi2.Visible = true\n\t\tend\n\t\thighlightPart1.Position = position\n\t\thighlightPart2.Position = position\n\t\tcursorPart.Position = position\n\telseif GameStatus.Value == 2 then\n\t\tif outOfBounds then\n\t\t\tcursorSelection.Visible = false\n\t\t\treturn\n\t\telse\n\t\t\tcursorSelection.Visible = true\n\t\tend\n\t\tcursorPart.Position = position\n\t\thighlightPart1:Destroy()\n\t\thighlightPart2:Destroy()\n\t\tcursorSelection.Color3 = Color3.new(1, 0.149126, 0)\n\telseif GameStatus.Value == 3 then\n\t\tcursorPart:Destroy()\n\tend\nend\n\n-- Update highlight and cursor positions when the cursor is toggled\nlocal ToggleCursor = script.Parent:WaitForChild(\"ToggleCursor\")\nwhile task.wait() do\n\tif ToggleCursor.Value then\n\t\tupdateHighlightPosition()\n\tend\nend\n"}]